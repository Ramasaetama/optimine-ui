{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://optimine-ui/./src/config.js","webpack://optimine-ui/./src/scripts/utils/translations.js","webpack://optimine-ui/./src/scripts/utils/LanguageManager.js","webpack://optimine-ui/./src/scripts/utils/index.js","webpack://optimine-ui/./src/scripts/pages/home/home-page.js","webpack://optimine-ui/./src/scripts/pages/about/about-page.js","webpack://optimine-ui/./src/scripts/data/api.js","webpack://optimine-ui/./src/scripts/pages/ai-tools/ai-tools-page.js","webpack://optimine-ui/./src/scripts/pages/planning/planning-page.js","webpack://optimine-ui/./src/scripts/routes/routes.js","webpack://optimine-ui/./src/scripts/app.js","webpack://optimine-ui/./src/index.js"],"sourcesContent":["/**\r\n * OptiMine SPA Configuration\r\n */\r\n\r\nexport const Config = {\r\n    // App Info\r\n    appName: 'OptiMine',\r\n    version: '1.0.0',\r\n    \r\n    // API Configuration\r\n    api: {\r\n        baseUrl: 'http://139.59.224.58:5000',\r\n        timeout: 10000\r\n    },\r\n    \r\n    // Routes Configuration\r\n    routes: {\r\n        default: 'home',\r\n        protected: ['profile'],\r\n        public: ['home', 'planning', 'ai-tools', 'dashboard', 'auth']\r\n    },\r\n    \r\n    // Transition Configuration\r\n    transition: {\r\n        duration: 400,\r\n        type: 'slide' // 'slide', 'fade', 'none'\r\n    },\r\n    \r\n    // Storage Keys\r\n    storage: {\r\n        theme: 'optimine-theme',\r\n        language: 'optimine-language',\r\n        user: 'optimine-user',\r\n        token: 'optimine-token',\r\n        isLoggedIn: 'optimine-logged-in'\r\n    },\r\n    \r\n    // Default Settings\r\n    defaults: {\r\n        theme: 'dark',\r\n        language: 'id'\r\n    }\r\n};\r\n","/**\r\n * OptiMine SPA - Translations / i18n\r\n * Dual Language Support: English (en) & Indonesian (id)\r\n */\r\n\r\nexport const translations = {\r\n    en: {\r\n        // Navbar\r\n        nav: {\r\n            home: 'Home',\r\n            planning: 'Planning',\r\n            aiTools: 'AI Tools',\r\n            dashboard: 'Dashboard',\r\n            login: 'Login',\r\n            profile: 'Profile',\r\n            logout: 'Sign Out'\r\n        },\r\n        \r\n        // Home Page\r\n        home: {\r\n            welcomeBack: 'Welcome Back',\r\n            subtitle: 'Mining Value Chain Optimization',\r\n            activeSites: 'Active Sites',\r\n            fleetUnits: 'Fleet Units',\r\n            efficiency: 'Efficiency',\r\n            quickAccess: 'QUICK ACCESS',\r\n            aiScenario: 'AI Scenario Simulator',\r\n            aiScenarioDesc: 'Simulate various operational scenarios and generate optimized production & distribution recommendations based on real-time field conditions.',\r\n            aiChatbot: 'AI Assistant Chatbot',\r\n            aiChatbotDesc: 'Interactive Q&A chatbot for field conditions, operational queries, and AI-powered recommendations with contextual responses.',\r\n            opsDashboard: 'Operations Dashboard',\r\n            opsDashboardDesc: 'Comprehensive data visualization with real-time monitoring, analytics, and justification for every AI recommendation.',\r\n            accessDashboard: 'Access Dashboard',\r\n            aiPoweredAnalysis: 'AI-Powered Analysis',\r\n            realtimeMonitoring: 'Real-time Monitoring',\r\n            riskMitigation: 'Risk Mitigation',\r\n            costOptimization: 'Cost Optimization'\r\n        },\r\n        \r\n        // Planning Page\r\n        planning: {\r\n            title: 'Production Planning',\r\n            subtitle: 'Input operational conditions to generate optimized plans',\r\n            weatherConditions: 'Weather Conditions',\r\n            rainfallLevel: 'Rainfall Level',\r\n            low: 'Low',\r\n            high: 'High',\r\n            waveHeight: 'Wave Height',\r\n            calm: 'Calm',\r\n            rough: 'Rough',\r\n            fleetStatus: 'Fleet Status',\r\n            activeVehicles: 'Active Vehicles',\r\n            maintenanceStatus: 'Maintenance Status',\r\n            fleetAvailability: 'Fleet Availability',\r\n            truckCount: 'Truck Count',\r\n            excavatorCount: 'Excavator Count',\r\n            shipSchedule: 'Ship Schedule',\r\n            vesselName: 'Vessel Name',\r\n            estimatedArrival: 'Estimated Arrival',\r\n            cargoCapacity: 'Cargo Capacity (tons)',\r\n            addVessel: 'Add Vessel',\r\n            generatePlan: 'Generate Optimization Plan',\r\n            systemStatus: 'System Status',\r\n            aiSystemOnline: 'AI System Online',\r\n            n8nReady: 'n8n Integration Ready',\r\n            activeAlerts: 'Active Alerts',\r\n            alertRainfall: 'High rainfall expected at Mine Site B',\r\n            alertMaintenance: '2 vehicles scheduled for maintenance',\r\n            weatherData: 'Weather Data',\r\n            connected: 'Connected',\r\n            fleetTracking: 'Fleet Tracking',\r\n            online: 'Online',\r\n            aiEngine: 'AI Engine',\r\n            ready: 'Ready',\r\n            lastUpdate: 'Last Updated',\r\n            justNow: 'Just now',\r\n            active: 'Active'\r\n        },\r\n        \r\n        // AI Tools Page\r\n        aiTools: {\r\n            title: 'AI Assistant',\r\n            subtitle: 'Ask questions about field conditions and get AI recommendations',\r\n            aiOnline: 'AI Online',\r\n            responseTime: 'Response time',\r\n            suggestedPrompts: 'Suggested Prompts',\r\n            prompt1: 'What is the impact of current rainfall on mining operations?',\r\n            prompt2: 'Recommend optimal fleet allocation for today',\r\n            prompt3: 'Analyze shipping delays due to high waves',\r\n            integration: 'Integration',\r\n            integrationDesc: 'Ready for n8n workflow integration and Lovable AI connection',\r\n            connectedSystems: 'Connected Systems',\r\n            weather: 'Weather',\r\n            fleet: 'Fleet',\r\n            shipping: 'Shipping',\r\n            placeholder: 'Ask about weather impact, fleet optimization, or production planning...',\r\n            greeting: \"Hello! I'm your AI Mining Operations Assistant. How can I help you optimize your operations today?\"\r\n        },\r\n        \r\n        // Dashboard Page\r\n        dashboard: {\r\n            title: 'Operations Dashboard',\r\n            subtitle: 'Real-time monitoring and analytics',\r\n            totalProduction: 'Total Production',\r\n            fromLastMonth: 'from last month',\r\n            activeEquipment: 'Active Equipment',\r\n            outOfTotal: 'out of 48 total units',\r\n            efficiencyRate: 'Efficiency Rate',\r\n            target: 'Target',\r\n            costSavings: 'Cost Savings',\r\n            thisQuarter: 'This quarter',\r\n            productionTrends: 'Production Trends',\r\n            equipmentStatus: 'Equipment Status',\r\n            chartPlaceholder: 'Chart visualization here',\r\n            statusPlaceholder: 'Status overview here'\r\n        },\r\n        \r\n        // Auth Page\r\n        auth: {\r\n            login: 'Login',\r\n            register: 'Register',\r\n            email: 'Email',\r\n            password: 'Password',\r\n            confirmPassword: 'Confirm Password',\r\n            fullName: 'Full Name',\r\n            role: 'Role',\r\n            forgotPassword: 'Forgot Password?',\r\n            signIn: 'Sign In',\r\n            createAccount: 'Create Account',\r\n            resetPassword: 'Reset Password',\r\n            resetDesc: \"Enter your email address and we'll send you a link to reset your password.\",\r\n            sendResetLink: 'Send Reset Link',\r\n            backToLogin: 'Back to Login',\r\n            miningPlanner: 'Mining Planner',\r\n            shippingPlanner: 'Shipping Planner',\r\n            // Password strength\r\n            passwordRequirements: 'Password Requirements:',\r\n            minLength: 'Minimum 6 characters',\r\n            uppercase: 'Uppercase letter (A-Z)',\r\n            number: 'Number (0-9)',\r\n            weak: 'Weak',\r\n            medium: 'Medium',\r\n            fair: 'Fair',\r\n            strong: 'Strong',\r\n            passwordError: 'Password must be at least 6 characters, contain uppercase letter and number!',\r\n            passwordMismatch: 'Passwords do not match!'\r\n        },\r\n        \r\n        // Profile Page\r\n        profile: {\r\n            title: 'Profile Settings',\r\n            subtitle: 'Manage your account preferences',\r\n            accountInfo: 'Account Information',\r\n            displayName: 'Display Name',\r\n            email: 'Email',\r\n            preferences: 'Preferences',\r\n            darkMode: 'Dark Mode',\r\n            useDarkTheme: 'Use dark theme',\r\n            language: 'Language',\r\n            selectLanguage: 'Select your language',\r\n            signOut: 'Sign Out',\r\n            theme: 'Theme',\r\n            dark: 'Dark',\r\n            light: 'Light'\r\n        },\r\n        \r\n        // Common\r\n        common: {\r\n            loading: 'Loading...',\r\n            error: 'Error',\r\n            success: 'Success',\r\n            save: 'Save',\r\n            cancel: 'Cancel',\r\n            confirm: 'Confirm',\r\n            delete: 'Delete',\r\n            edit: 'Edit',\r\n            view: 'View',\r\n            search: 'Search',\r\n            noData: 'No data available',\r\n            languageChanged: 'Language changed to English',\r\n            copyright: ' 2025 OptiMine. All rights reserved.',\r\n            privacy: 'Privacy',\r\n            terms: 'Terms',\r\n            contact: 'Contact'\r\n        }\r\n    },\r\n    \r\n    id: {\r\n        // Navbar\r\n        nav: {\r\n            home: 'Beranda',\r\n            planning: 'Perencanaan',\r\n            aiTools: 'AI Tools',\r\n            dashboard: 'Dashboard',\r\n            login: 'Masuk',\r\n            profile: 'Profil',\r\n            logout: 'Keluar'\r\n        },\r\n        \r\n        // Home Page\r\n        home: {\r\n            welcomeBack: 'Selamat Datang',\r\n            subtitle: 'Optimasi Rantai Nilai Pertambangan',\r\n            activeSites: 'Lokasi Aktif',\r\n            fleetUnits: 'Unit Armada',\r\n            efficiency: 'Efisiensi',\r\n            quickAccess: 'AKSES CEPAT',\r\n            aiScenario: 'Simulator Skenario AI',\r\n            aiScenarioDesc: 'Simulasikan berbagai skenario operasional dan hasilkan rekomendasi produksi & distribusi yang dioptimalkan berdasarkan kondisi lapangan real-time.',\r\n            aiChatbot: 'Chatbot Asisten AI',\r\n            aiChatbotDesc: 'Chatbot Q&A interaktif untuk kondisi lapangan, pertanyaan operasional, dan rekomendasi bertenaga AI dengan respons kontekstual.',\r\n            opsDashboard: 'Dashboard Operasi',\r\n            opsDashboardDesc: 'Visualisasi data komprehensif dengan pemantauan real-time, analitik, dan justifikasi untuk setiap rekomendasi AI.',\r\n            accessDashboard: 'Akses Dashboard',\r\n            aiPoweredAnalysis: 'Analisis Bertenaga AI',\r\n            realtimeMonitoring: 'Pemantauan Real-time',\r\n            riskMitigation: 'Mitigasi Risiko',\r\n            costOptimization: 'Optimasi Biaya'\r\n        },\r\n        \r\n        // Planning Page\r\n        planning: {\r\n            title: 'Perencanaan Produksi',\r\n            subtitle: 'Masukkan kondisi operasional untuk menghasilkan rencana yang dioptimalkan',\r\n            weatherConditions: 'Kondisi Cuaca',\r\n            rainfallLevel: 'Tingkat Curah Hujan',\r\n            low: 'Rendah',\r\n            high: 'Tinggi',\r\n            waveHeight: 'Tinggi Gelombang',\r\n            calm: 'Tenang',\r\n            rough: 'Bergelombang',\r\n            fleetStatus: 'Status Armada',\r\n            activeVehicles: 'Kendaraan Aktif',\r\n            maintenanceStatus: 'Status Perawatan',\r\n            fleetAvailability: 'Ketersediaan Armada',\r\n            truckCount: 'Jumlah Truk',\r\n            excavatorCount: 'Jumlah Excavator',\r\n            shipSchedule: 'Jadwal Kapal',\r\n            vesselName: 'Nama Kapal',\r\n            estimatedArrival: 'Perkiraan Kedatangan',\r\n            cargoCapacity: 'Kapasitas Kargo (ton)',\r\n            addVessel: 'Tambah Kapal',\r\n            generatePlan: 'Hasilkan Rencana Optimal',\r\n            systemStatus: 'Status Sistem',\r\n            aiSystemOnline: 'Sistem AI Online',\r\n            n8nReady: 'Integrasi n8n Siap',\r\n            activeAlerts: 'Peringatan Aktif',\r\n            alertRainfall: 'Curah hujan tinggi diperkirakan di Lokasi Tambang B',\r\n            alertMaintenance: '2 kendaraan dijadwalkan untuk perawatan',\r\n            weatherData: 'Data Cuaca',\r\n            connected: 'Terhubung',\r\n            fleetTracking: 'Pelacakan Armada',\r\n            online: 'Online',\r\n            aiEngine: 'Mesin AI',\r\n            ready: 'Siap',\r\n            lastUpdate: 'Terakhir Diperbarui',\r\n            justNow: 'Baru saja',\r\n            active: 'Aktif'\r\n        },\r\n        \r\n        // AI Tools Page\r\n        aiTools: {\r\n            title: 'Asisten AI',\r\n            subtitle: 'Ajukan pertanyaan tentang kondisi lapangan dan dapatkan rekomendasi AI',\r\n            aiOnline: 'AI Online',\r\n            responseTime: 'Waktu respons',\r\n            suggestedPrompts: 'Prompt Disarankan',\r\n            prompt1: 'Apa dampak curah hujan saat ini terhadap operasi tambang?',\r\n            prompt2: 'Rekomendasikan alokasi armada optimal untuk hari ini',\r\n            prompt3: 'Analisis keterlambatan pengiriman akibat gelombang tinggi',\r\n            integration: 'Integrasi',\r\n            integrationDesc: 'Siap untuk integrasi alur kerja n8n dan koneksi Lovable AI',\r\n            connectedSystems: 'Sistem Terhubung',\r\n            weather: 'Cuaca',\r\n            fleet: 'Armada',\r\n            shipping: 'Pengiriman',\r\n            placeholder: 'Tanyakan tentang dampak cuaca, optimasi armada, atau perencanaan produksi...',\r\n            greeting: 'Halo! Saya Asisten AI Operasi Tambang Anda. Bagaimana saya bisa membantu mengoptimalkan operasi Anda hari ini?'\r\n        },\r\n        \r\n        // Dashboard Page\r\n        dashboard: {\r\n            title: 'Dashboard Operasi',\r\n            subtitle: 'Pemantauan dan analitik real-time',\r\n            totalProduction: 'Total Produksi',\r\n            fromLastMonth: 'dari bulan lalu',\r\n            activeEquipment: 'Peralatan Aktif',\r\n            outOfTotal: 'dari 48 unit total',\r\n            efficiencyRate: 'Tingkat Efisiensi',\r\n            target: 'Target',\r\n            costSavings: 'Penghematan Biaya',\r\n            thisQuarter: 'Kuartal ini',\r\n            productionTrends: 'Tren Produksi',\r\n            equipmentStatus: 'Status Peralatan',\r\n            chartPlaceholder: 'Visualisasi grafik di sini',\r\n            statusPlaceholder: 'Ringkasan status di sini'\r\n        },\r\n        \r\n        // Auth Page\r\n        auth: {\r\n            login: 'Masuk',\r\n            register: 'Daftar',\r\n            email: 'Email',\r\n            password: 'Kata Sandi',\r\n            confirmPassword: 'Konfirmasi Kata Sandi',\r\n            fullName: 'Nama Lengkap',\r\n            role: 'Peran',\r\n            forgotPassword: 'Lupa Kata Sandi?',\r\n            signIn: 'Masuk',\r\n            createAccount: 'Buat Akun',\r\n            resetPassword: 'Reset Kata Sandi',\r\n            resetDesc: 'Masukkan alamat email Anda dan kami akan mengirimkan link untuk mereset kata sandi.',\r\n            sendResetLink: 'Kirim Link Reset',\r\n            backToLogin: 'Kembali ke Login',\r\n            miningPlanner: 'Perencana Tambang',\r\n            shippingPlanner: 'Perencana Pengiriman',\r\n            // Password strength\r\n            passwordRequirements: 'Persyaratan Password:',\r\n            minLength: 'Minimal 6 karakter',\r\n            uppercase: 'Huruf kapital (A-Z)',\r\n            number: 'Angka (0-9)',\r\n            weak: 'Lemah',\r\n            medium: 'Sedang',\r\n            fair: 'Cukup Kuat',\r\n            strong: 'Kuat',\r\n            passwordError: 'Password harus minimal 6 karakter, mengandung huruf kapital dan angka!',\r\n            passwordMismatch: 'Password tidak cocok!'\r\n        },\r\n        \r\n        // Profile Page\r\n        profile: {\r\n            title: 'Pengaturan Profil',\r\n            subtitle: 'Kelola preferensi akun Anda',\r\n            accountInfo: 'Informasi Akun',\r\n            displayName: 'Nama Tampilan',\r\n            email: 'Email',\r\n            preferences: 'Preferensi',\r\n            darkMode: 'Mode Gelap',\r\n            useDarkTheme: 'Gunakan tema gelap',\r\n            language: 'Bahasa',\r\n            selectLanguage: 'Pilih bahasa Anda',\r\n            signOut: 'Keluar',\r\n            theme: 'Tema',\r\n            dark: 'Gelap',\r\n            light: 'Terang'\r\n        },\r\n        \r\n        // Common\r\n        common: {\r\n            loading: 'Memuat...',\r\n            error: 'Kesalahan',\r\n            success: 'Berhasil',\r\n            save: 'Simpan',\r\n            cancel: 'Batal',\r\n            confirm: 'Konfirmasi',\r\n            delete: 'Hapus',\r\n            edit: 'Edit',\r\n            view: 'Lihat',\r\n            search: 'Cari',\r\n            noData: 'Tidak ada data',\r\n            languageChanged: 'Bahasa diubah ke Indonesia',\r\n            copyright: ' 2025 OptiMine. Hak cipta dilindungi.',\r\n            privacy: 'Privasi',\r\n            terms: 'Ketentuan',\r\n            contact: 'Kontak'\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Get translation by key path\r\n * @param {string} lang - Language code ('en' or 'id')\r\n * @param {string} path - Dot notation path (e.g., 'nav.home', 'home.welcomeBack')\r\n * @returns {string} - Translated string or key if not found\r\n */\r\nexport const t = (lang, path) => {\r\n    const keys = path.split('.');\r\n    let result = translations[lang] || translations['en'];\r\n    \r\n    for (const key of keys) {\r\n        if (result && typeof result === 'object' && key in result) {\r\n            result = result[key];\r\n        } else {\r\n            console.warn(`Translation not found: ${path} for language: ${lang}`);\r\n            return path; // Return the key if translation not found\r\n        }\r\n    }\r\n    \r\n    return result;\r\n};\r\n\r\n/**\r\n * Get all translations for a section\r\n * @param {string} lang - Language code\r\n * @param {string} section - Section name (e.g., 'nav', 'home')\r\n * @returns {object} - All translations for that section\r\n */\r\nexport const getSection = (lang, section) => {\r\n    return translations[lang]?.[section] || translations['en']?.[section] || {};\r\n};\r\n\r\nexport default translations;\r\n","/**\r\n * LanguageManager - Handles multi-language functionality\r\n * Uses localStorage for persistence\r\n * Supports dynamic DOM updates via data-i18n attributes\r\n */\r\n\r\nimport { translations } from './translations.js';\r\n\r\nclass LanguageManager {\r\n    constructor() {\r\n        this.currentLanguage = this.getSavedLanguage();\r\n        this.listeners = [];\r\n        this.isInitialized = false;\r\n    }\r\n\r\n    /**\r\n     * Get saved language from localStorage or default to 'id'\r\n     */\r\n    getSavedLanguage() {\r\n        const saved = localStorage.getItem('optimine-language');\r\n        if (saved && (saved === 'en' || saved === 'id')) {\r\n            return saved;\r\n        }\r\n        // Detect browser language\r\n        const browserLang = navigator.language.toLowerCase();\r\n        if (browserLang.startsWith('id')) {\r\n            return 'id';\r\n        }\r\n        return 'id'; // Default to Indonesian\r\n    }\r\n\r\n    /**\r\n     * Initialize language manager\r\n     */\r\n    init() {\r\n        if (this.isInitialized) return this;\r\n        \r\n        this.setLanguage(this.currentLanguage, false); // Don't notify on init\r\n        this.setupLanguageSwitcher();\r\n        this.isInitialized = true;\r\n        \r\n        console.log('LanguageManager initialized. Current language:', this.currentLanguage);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get current translations object\r\n     */\r\n    get t() {\r\n        return translations[this.currentLanguage] || translations['id'];\r\n    }\r\n\r\n    /**\r\n     * Get specific translation by dot notation path\r\n     * @param {string} path - e.g., 'nav.home', 'features.simulator.title'\r\n     * @returns {string} Translation or path if not found\r\n     */\r\n    translate(path) {\r\n        const keys = path.split('.');\r\n        let result = this.t;\r\n        \r\n        for (const key of keys) {\r\n            if (result && result[key] !== undefined) {\r\n                result = result[key];\r\n            } else {\r\n                console.warn(`Translation not found: ${path}`);\r\n                return path;\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Set language and update all elements\r\n     * @param {string} lang - 'en' or 'id'\r\n     * @param {boolean} notify - Whether to notify listeners (default: true)\r\n     */\r\n    setLanguage(lang, notify = true) {\r\n        if (lang !== 'en' && lang !== 'id') {\r\n            console.error('Invalid language:', lang);\r\n            return;\r\n        }\r\n\r\n        this.currentLanguage = lang;\r\n        localStorage.setItem('optimine-language', lang);\r\n        \r\n        // Update document language attribute\r\n        document.documentElement.setAttribute('lang', lang);\r\n        \r\n        // Update all elements with data-i18n attribute\r\n        this.updateAllTranslations();\r\n        \r\n        // Update language indicator\r\n        this.updateLanguageIndicator();\r\n        \r\n        // Notify listeners\r\n        if (notify) {\r\n            this.notifyListeners();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle between languages\r\n     */\r\n    toggleLanguage() {\r\n        const newLang = this.currentLanguage === 'en' ? 'id' : 'en';\r\n        this.setLanguage(newLang);\r\n        return newLang;\r\n    }\r\n\r\n    /**\r\n     * Update all DOM elements with data-i18n attribute\r\n     */\r\n    updateAllTranslations() {\r\n        // Elements with text content\r\n        const textElements = document.querySelectorAll('[data-i18n]');\r\n        textElements.forEach(element => {\r\n            const key = element.getAttribute('data-i18n');\r\n            const translation = this.translate(key);\r\n            if (translation !== key) {\r\n                element.textContent = translation;\r\n            }\r\n        });\r\n\r\n        // Elements with placeholder\r\n        const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');\r\n        placeholderElements.forEach(element => {\r\n            const key = element.getAttribute('data-i18n-placeholder');\r\n            const translation = this.translate(key);\r\n            if (translation !== key) {\r\n                element.setAttribute('placeholder', translation);\r\n            }\r\n        });\r\n\r\n        // Elements with title attribute\r\n        const titleElements = document.querySelectorAll('[data-i18n-title]');\r\n        titleElements.forEach(element => {\r\n            const key = element.getAttribute('data-i18n-title');\r\n            const translation = this.translate(key);\r\n            if (translation !== key) {\r\n                element.setAttribute('title', translation);\r\n            }\r\n        });\r\n\r\n        // Elements with aria-label\r\n        const ariaElements = document.querySelectorAll('[data-i18n-aria]');\r\n        ariaElements.forEach(element => {\r\n            const key = element.getAttribute('data-i18n-aria');\r\n            const translation = this.translate(key);\r\n            if (translation !== key) {\r\n                element.setAttribute('aria-label', translation);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update language indicator in UI\r\n     */\r\n    updateLanguageIndicator() {\r\n        // Update text indicators\r\n        const indicators = document.querySelectorAll('[data-language-indicator]');\r\n        indicators.forEach(indicator => {\r\n            indicator.textContent = this.currentLanguage.toUpperCase();\r\n        });\r\n\r\n        // Update active state on language buttons\r\n        const langButtons = document.querySelectorAll('[data-lang-button]');\r\n        langButtons.forEach(button => {\r\n            const lang = button.getAttribute('data-lang-button');\r\n            const isActive = lang === this.currentLanguage;\r\n            \r\n            // Toggle classes\r\n            button.classList.toggle('bg-primary', isActive);\r\n            button.classList.toggle('text-primary-foreground', isActive);\r\n            button.classList.toggle('shadow-lg', isActive);\r\n        });\r\n        \r\n        // Update .lang-option buttons (legacy support)\r\n        document.querySelectorAll('.lang-option').forEach(btn => {\r\n            const lang = btn.dataset.lang;\r\n            const isActive = lang === this.currentLanguage;\r\n            \r\n            btn.classList.toggle('bg-primary', isActive);\r\n            btn.classList.toggle('text-primary-foreground', isActive);\r\n            btn.classList.toggle('shadow-lg', isActive);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Setup language switcher click handlers\r\n     */\r\n    setupLanguageSwitcher() {\r\n        // Use event delegation for language buttons\r\n        document.addEventListener('click', (e) => {\r\n            // Language toggle button (toggles between en/id)\r\n            const toggleBtn = e.target.closest('[data-language-toggle]');\r\n            if (toggleBtn) {\r\n                e.preventDefault();\r\n                this.toggleLanguage();\r\n                return;\r\n            }\r\n\r\n            // Specific language button with data-lang-button\r\n            const langBtn = e.target.closest('[data-lang-button]');\r\n            if (langBtn) {\r\n                e.preventDefault();\r\n                const lang = langBtn.getAttribute('data-lang-button');\r\n                this.setLanguage(lang);\r\n                return;\r\n            }\r\n            \r\n            // Legacy .lang-option buttons\r\n            const langOption = e.target.closest('.lang-option');\r\n            if (langOption) {\r\n                e.preventDefault();\r\n                const lang = langOption.dataset.lang;\r\n                if (lang) {\r\n                    this.setLanguage(lang);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Subscribe to language changes\r\n     * @param {Function} callback - Called when language changes with (lang, translations)\r\n     * @returns {Function} Unsubscribe function\r\n     */\r\n    subscribe(callback) {\r\n        this.listeners.push(callback);\r\n        return () => {\r\n            this.listeners = this.listeners.filter(cb => cb !== callback);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Notify all subscribers of language change\r\n     */\r\n    notifyListeners() {\r\n        this.listeners.forEach(callback => {\r\n            try {\r\n                callback(this.currentLanguage, this.t);\r\n            } catch (error) {\r\n                console.error('Language listener error:', error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get translation for use in templates\r\n     * Shorthand for translate()\r\n     */\r\n    $(path) {\r\n        return this.translate(path);\r\n    }\r\n}\r\n\r\n// Singleton instance\r\nconst languageManager = new LanguageManager();\r\n\r\nexport { languageManager, LanguageManager };\r\nexport default languageManager;\r\n","/**\r\n * OptiMine SPA - Utilities\r\n * Common utility functions\r\n */\r\n\r\n// ============================================\r\n// EVENT BUS - Pub/Sub Pattern\r\n// ============================================\r\nexport const EventBus = {\r\n    events: {},\r\n\r\n    on(event, callback) {\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        this.events[event].push(callback);\r\n        return () => this.off(event, callback);\r\n    },\r\n\r\n    off(event, callback) {\r\n        if (!this.events[event]) return;\r\n        this.events[event] = this.events[event].filter(cb => cb !== callback);\r\n    },\r\n\r\n    emit(event, data) {\r\n        if (!this.events[event]) return;\r\n        this.events[event].forEach(callback => callback(data));\r\n    },\r\n\r\n    once(event, callback) {\r\n        const wrapper = (data) => {\r\n            callback(data);\r\n            this.off(event, wrapper);\r\n        };\r\n        this.on(event, wrapper);\r\n    }\r\n};\r\n\r\n// ============================================\r\n// DOM HELPERS\r\n// ============================================\r\nexport const $ = (selector) => document.querySelector(selector);\r\nexport const $$ = (selector) => document.querySelectorAll(selector);\r\n\r\nexport const createElement = (tag, attributes = {}, children = []) => {\r\n    const element = document.createElement(tag);\r\n    \r\n    Object.entries(attributes).forEach(([key, value]) => {\r\n        if (key === 'className') {\r\n            element.className = value;\r\n        } else if (key === 'innerHTML') {\r\n            element.innerHTML = value;\r\n        } else if (key.startsWith('on')) {\r\n            element.addEventListener(key.slice(2).toLowerCase(), value);\r\n        } else {\r\n            element.setAttribute(key, value);\r\n        }\r\n    });\r\n    \r\n    children.forEach(child => {\r\n        if (typeof child === 'string') {\r\n            element.appendChild(document.createTextNode(child));\r\n        } else {\r\n            element.appendChild(child);\r\n        }\r\n    });\r\n    \r\n    return element;\r\n};\r\n\r\n// ============================================\r\n// STORAGE HELPERS\r\n// ============================================\r\nexport const Storage = {\r\n    get(key, defaultValue = null) {\r\n        try {\r\n            const value = localStorage.getItem(key);\r\n            return value ? JSON.parse(value) : defaultValue;\r\n        } catch {\r\n            return localStorage.getItem(key) || defaultValue;\r\n        }\r\n    },\r\n\r\n    set(key, value) {\r\n        try {\r\n            localStorage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\r\n        } catch (e) {\r\n            console.error('Storage error:', e);\r\n        }\r\n    },\r\n\r\n    remove(key) {\r\n        localStorage.removeItem(key);\r\n    },\r\n\r\n    clear() {\r\n        localStorage.clear();\r\n    }\r\n};\r\n\r\n// ============================================\r\n// DEBOUNCE & THROTTLE\r\n// ============================================\r\nexport const debounce = (func, wait) => {\r\n    let timeout;\r\n    return function executedFunction(...args) {\r\n        const later = () => {\r\n            clearTimeout(timeout);\r\n            func(...args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n    };\r\n};\r\n\r\nexport const throttle = (func, limit) => {\r\n    let inThrottle;\r\n    return function executedFunction(...args) {\r\n        if (!inThrottle) {\r\n            func(...args);\r\n            inThrottle = true;\r\n            setTimeout(() => inThrottle = false, limit);\r\n        }\r\n    };\r\n};\r\n\r\n// ============================================\r\n// FORMAT HELPERS\r\n// ============================================\r\nexport const formatNumber = (num) => {\r\n    return new Intl.NumberFormat('id-ID').format(num);\r\n};\r\n\r\nexport const formatCurrency = (num, currency = 'IDR') => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n        style: 'currency',\r\n        currency: currency\r\n    }).format(num);\r\n};\r\n\r\nexport const formatDate = (date, options = {}) => {\r\n    return new Intl.DateTimeFormat('id-ID', options).format(new Date(date));\r\n};\r\n\r\n// ============================================\r\n// ANIMATION HELPERS\r\n// ============================================\r\nexport const animate = {\r\n    fadeIn(element, duration = 300) {\r\n        element.style.opacity = '0';\r\n        element.style.display = 'block';\r\n        \r\n        let start = null;\r\n        const step = (timestamp) => {\r\n            if (!start) start = timestamp;\r\n            const progress = Math.min((timestamp - start) / duration, 1);\r\n            element.style.opacity = progress;\r\n            if (progress < 1) {\r\n                requestAnimationFrame(step);\r\n            }\r\n        };\r\n        requestAnimationFrame(step);\r\n    },\r\n\r\n    fadeOut(element, duration = 300) {\r\n        let start = null;\r\n        const step = (timestamp) => {\r\n            if (!start) start = timestamp;\r\n            const progress = Math.min((timestamp - start) / duration, 1);\r\n            element.style.opacity = 1 - progress;\r\n            if (progress < 1) {\r\n                requestAnimationFrame(step);\r\n            } else {\r\n                element.style.display = 'none';\r\n            }\r\n        };\r\n        requestAnimationFrame(step);\r\n    },\r\n\r\n    slideDown(element, duration = 300) {\r\n        element.style.height = '0px';\r\n        element.style.overflow = 'hidden';\r\n        element.style.display = 'block';\r\n        \r\n        const targetHeight = element.scrollHeight;\r\n        let start = null;\r\n        \r\n        const step = (timestamp) => {\r\n            if (!start) start = timestamp;\r\n            const progress = Math.min((timestamp - start) / duration, 1);\r\n            element.style.height = `${targetHeight * progress}px`;\r\n            if (progress < 1) {\r\n                requestAnimationFrame(step);\r\n            } else {\r\n                element.style.height = '';\r\n                element.style.overflow = '';\r\n            }\r\n        };\r\n        requestAnimationFrame(step);\r\n    },\r\n\r\n    slideUp(element, duration = 300) {\r\n        const startHeight = element.scrollHeight;\r\n        element.style.height = `${startHeight}px`;\r\n        element.style.overflow = 'hidden';\r\n        \r\n        let start = null;\r\n        \r\n        const step = (timestamp) => {\r\n            if (!start) start = timestamp;\r\n            const progress = Math.min((timestamp - start) / duration, 1);\r\n            element.style.height = `${startHeight * (1 - progress)}px`;\r\n            if (progress < 1) {\r\n                requestAnimationFrame(step);\r\n            } else {\r\n                element.style.display = 'none';\r\n                element.style.height = '';\r\n                element.style.overflow = '';\r\n            }\r\n        };\r\n        requestAnimationFrame(step);\r\n    },\r\n\r\n    // Typewriter Effect\r\n    typewriter(element, text, speed = 100, callback = null) {\r\n        element.textContent = '';\r\n        element.style.borderRight = '2px solid currentColor';\r\n        element.style.animation = 'blink-caret 0.75s step-end infinite';\r\n        \r\n        let index = 0;\r\n        \r\n        const type = () => {\r\n            if (index < text.length) {\r\n                element.textContent += text.charAt(index);\r\n                index++;\r\n                setTimeout(type, speed);\r\n            } else {\r\n                setTimeout(() => {\r\n                    element.style.borderRight = 'none';\r\n                    element.style.animation = 'none';\r\n                    if (callback) callback();\r\n                }, 500);\r\n            }\r\n        };\r\n        \r\n        type();\r\n    },\r\n\r\n    // Typewriter with welcome message and username\r\n    typewriterWelcome(element, welcomeText, userName, speed = 80) {\r\n        element.innerHTML = '';\r\n        \r\n        const welcomeSpan = document.createElement('span');\r\n        welcomeSpan.className = 'typewriter-welcome';\r\n        \r\n        const userSpan = document.createElement('span');\r\n        userSpan.className = 'typewriter-username text-primary';\r\n        \r\n        element.appendChild(welcomeSpan);\r\n        element.appendChild(userSpan);\r\n        \r\n        element.classList.add('typewriter-active');\r\n        \r\n        let welcomeIndex = 0;\r\n        let userIndex = 0;\r\n        \r\n        const typeWelcome = () => {\r\n            if (welcomeIndex < welcomeText.length) {\r\n                welcomeSpan.textContent += welcomeText.charAt(welcomeIndex);\r\n                welcomeIndex++;\r\n                setTimeout(typeWelcome, speed);\r\n            } else {\r\n                setTimeout(typeUser, 200);\r\n            }\r\n        };\r\n        \r\n        const typeUser = () => {\r\n            if (userIndex < userName.length) {\r\n                userSpan.textContent += userName.charAt(userIndex);\r\n                userIndex++;\r\n                setTimeout(typeUser, speed);\r\n            } else {\r\n                setTimeout(() => {\r\n                    element.classList.remove('typewriter-active');\r\n                    element.classList.add('typewriter-complete');\r\n                }, 500);\r\n            }\r\n        };\r\n        \r\n        setTimeout(typeWelcome, 300);\r\n    },\r\n\r\n    // Counter Animation - Count up from 0 to target number\r\n    countUp(element, target, duration = 2000, suffix = '') {\r\n        const startTime = performance.now();\r\n        const startValue = 0;\r\n        \r\n        // Easing function for smooth animation\r\n        const easeOutQuart = (t) => 1 - Math.pow(1 - t, 4);\r\n        \r\n        const updateCount = (currentTime) => {\r\n            const elapsed = currentTime - startTime;\r\n            const progress = Math.min(elapsed / duration, 1);\r\n            const easedProgress = easeOutQuart(progress);\r\n            \r\n            const currentValue = Math.floor(startValue + (target - startValue) * easedProgress);\r\n            element.textContent = currentValue + suffix;\r\n            \r\n            if (progress < 1) {\r\n                requestAnimationFrame(updateCount);\r\n            } else {\r\n                element.textContent = target + suffix;\r\n                element.classList.add('complete');\r\n            }\r\n        };\r\n        \r\n        requestAnimationFrame(updateCount);\r\n    },\r\n\r\n    // Initialize all stat counters on page\r\n    initStatCounters(delay = 800) {\r\n        setTimeout(() => {\r\n            const statElements = document.querySelectorAll('.stat-value[data-target]');\r\n            \r\n            statElements.forEach((element, index) => {\r\n                const target = parseInt(element.getAttribute('data-target')) || 0;\r\n                const suffix = element.getAttribute('data-suffix') || '';\r\n                const duration = parseInt(element.getAttribute('data-duration')) || 2000;\r\n                \r\n                // Set initial value to 0\r\n                element.textContent = '0' + suffix;\r\n                \r\n                // Stagger animation for each stat\r\n                setTimeout(() => {\r\n                    animate.countUp(element, target, duration, suffix);\r\n                }, index * 200);\r\n            });\r\n        }, delay);\r\n    }\r\n};\r\n\r\n// ============================================\r\n// DELAY HELPER\r\n// ============================================\r\nexport const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// ============================================\r\n// LANGUAGE MANAGER\r\n// ============================================\r\nexport { default as LanguageManager } from './LanguageManager.js';\r\n","/**\r\n * OptiMine SPA - Home Page\r\n */\r\n\r\nimport { App } from '../../app.js';\r\nimport { t, getSection } from '../../utils/translations.js';\r\nimport { animate } from '../../utils/index.js';\r\n\r\n/**\r\n * Get user name from localStorage\r\n * @returns {string} User name or empty string\r\n */\r\nconst getUserName = () => {\r\n    try {\r\n        const userData = localStorage.getItem('optimine-user');\r\n        if (userData) {\r\n            const user = JSON.parse(userData);\r\n            return user.name || user.nama || '';\r\n        }\r\n    } catch (e) {\r\n        console.error('Error parsing user data:', e);\r\n    }\r\n    return '';\r\n};\r\n\r\n/**\r\n * Check if user is logged in\r\n */\r\nconst isLoggedIn = () => {\r\n    return localStorage.getItem('optimine-logged-in') === 'true';\r\n};\r\n\r\n/**\r\n * Initialize typewriter effect for welcome message\r\n */\r\nconst initTypewriter = () => {\r\n    const welcomeElement = document.getElementById('welcome-title');\r\n    if (!welcomeElement) return;\r\n    \r\n    const userName = getUserName();\r\n    \r\n    if (isLoggedIn() && userName) {\r\n        animate.typewriterWelcome(welcomeElement, 'Welcome Back, ', userName, 70);\r\n    } else {\r\n        animate.typewriterWelcome(welcomeElement, 'Welcome to ', 'OptiMine', 70);\r\n    }\r\n};\r\n\r\nconst template = () => {\r\n    const lang = App.Model.getState('language') || 'id';\r\n    const home = getSection(lang, 'home');\r\n    \r\n    return `\r\n<div class=\"min-h-[calc(100vh-4rem)] pt-6\">\r\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        \r\n        <!-- ========================================\r\n             WELCOME SECTION\r\n        ======================================== -->\r\n        <section class=\"mb-8 animate-fade-in stagger-1\">\r\n            <div class=\"glass border border-border rounded-2xl p-6 md:p-8 border-glow\">\r\n                <div class=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6\">\r\n                    <!-- Left: Title & Subtitle -->\r\n                    <div>\r\n                        <h1 id=\"welcome-title\" class=\"font-heading text-2xl md:text-3xl font-bold text-foreground mb-2 welcome-typewriter\">\r\n                            <!-- Typewriter effect will be inserted here -->\r\n                        </h1>\r\n                        <p class=\"text-muted-foreground\">\r\n                            ${home.subtitle}\r\n                        </p>\r\n                    </div>\r\n                    \r\n                    <!-- Right: Stats Cards -->\r\n                    <div class=\"flex flex-wrap gap-3 lg:gap-4\">\r\n                        <!-- Active Sites -->\r\n                        <div class=\"stat-card rounded-xl bg-secondary/50 border border-border px-5 py-3 text-center min-w-[100px]\">\r\n                            <p class=\"stat-value text-2xl lg:text-3xl font-bold text-primary\" data-target=\"24\" data-suffix=\"\" data-duration=\"2000\">0</p>\r\n                            <p class=\"text-xs text-muted-foreground uppercase tracking-wide\">${home.activeSites}</p>\r\n                        </div>\r\n                        <!-- Fleet Units -->\r\n                        <div class=\"stat-card rounded-xl bg-secondary/50 border border-border px-5 py-3 text-center min-w-[100px]\">\r\n                            <p class=\"stat-value text-2xl lg:text-3xl font-bold text-emerald-400\" data-target=\"156\" data-suffix=\"\" data-duration=\"2000\">0</p>\r\n                            <p class=\"text-xs text-muted-foreground uppercase tracking-wide\">${home.fleetUnits}</p>\r\n                        </div>\r\n                        <!-- Efficiency -->\r\n                        <div class=\"stat-card rounded-xl bg-secondary/50 border border-border px-5 py-3 text-center min-w-[100px]\">\r\n                            <p class=\"stat-value text-2xl lg:text-3xl font-bold text-orange-400\" data-target=\"98\" data-suffix=\"%\" data-duration=\"2000\">0%</p>\r\n                            <p class=\"text-xs text-muted-foreground uppercase tracking-wide\">${home.efficiency}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <!-- ========================================\r\n             QUICK ACCESS SECTION\r\n        ======================================== -->\r\n        <section class=\"mb-8\">\r\n            <h2 class=\"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4\">\r\n                ${home.quickAccess}\r\n            </h2>\r\n            <div class=\"grid md:grid-cols-3 gap-4\">\r\n                \r\n                <!-- Card 1: AI Scenario Simulator -->\r\n                <a href=\"#planning\" class=\"glass border border-border rounded-xl p-6 hover:border-primary/30 hover:bg-card/80 transition-all duration-300 group animate-fade-in stagger-2\">\r\n                    <div class=\"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg\">\r\n                        <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h3 class=\"font-semibold text-foreground mb-2\">${home.aiScenario}</h3>\r\n                    <p class=\"text-sm text-muted-foreground mb-4 leading-relaxed\">\r\n                        ${home.aiScenarioDesc}\r\n                    </p>\r\n                    <span class=\"text-primary text-sm font-medium inline-flex items-center gap-1 group-hover:gap-2 transition-all duration-300\">\r\n                        ${home.accessDashboard}\r\n                        <svg class=\"w-4 h-4 transition-transform duration-300 group-hover:translate-x-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                        </svg>\r\n                    </span>\r\n                </a>\r\n\r\n                <!-- Card 2: AI Assistant Chatbot -->\r\n                <a href=\"#ai-tools\" class=\"glass border border-border rounded-xl p-6 hover:border-primary/30 hover:bg-card/80 transition-all duration-300 group animate-fade-in stagger-3\">\r\n                    <div class=\"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg\">\r\n                        <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h3 class=\"font-semibold text-foreground mb-2\">${home.aiChatbot}</h3>\r\n                    <p class=\"text-sm text-muted-foreground mb-4 leading-relaxed\">\r\n                        ${home.aiChatbotDesc}\r\n                    </p>\r\n                    <span class=\"text-primary text-sm font-medium inline-flex items-center gap-1 group-hover:gap-2 transition-all duration-300\">\r\n                        ${home.accessDashboard}\r\n                        <svg class=\"w-4 h-4 transition-transform duration-300 group-hover:translate-x-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                        </svg>\r\n                    </span>\r\n                </a>\r\n\r\n                <!-- Card 3: Operations Dashboard -->\r\n                <a href=\"#dashboard\" class=\"glass border border-border rounded-xl p-6 hover:border-primary/30 hover:bg-card/80 transition-all duration-300 group animate-fade-in stagger-4\">\r\n                    <div class=\"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-primary flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg\">\r\n                        <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h3 class=\"font-semibold text-foreground mb-2\">${home.opsDashboard}</h3>\r\n                    <p class=\"text-sm text-muted-foreground mb-4 leading-relaxed\">\r\n                        ${home.opsDashboardDesc}\r\n                    </p>\r\n                    <span class=\"text-primary text-sm font-medium inline-flex items-center gap-1 group-hover:gap-2 transition-all duration-300\">\r\n                        ${home.accessDashboard}\r\n                        <svg class=\"w-4 h-4 transition-transform duration-300 group-hover:translate-x-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                        </svg>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n        </section>\r\n\r\n        <!-- ========================================\r\n             CAPABILITIES SECTION\r\n        ======================================== -->\r\n        <section class=\"mb-8 animate-fade-in stagger-5\">\r\n            <div class=\"flex flex-wrap justify-center gap-3\">\r\n                <!-- AI-Powered Analysis -->\r\n                <div class=\"rounded-full bg-secondary/30 border border-border px-4 py-2 flex items-center gap-2 hover:border-primary/30 hover:text-primary transition-all duration-300 cursor-default\">\r\n                    <svg class=\"w-4 h-4 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                    </svg>\r\n                    <span class=\"text-sm text-muted-foreground\">${home.aiPoweredAnalysis}</span>\r\n                </div>\r\n                \r\n                <!-- Real-time Monitoring -->\r\n                <div class=\"rounded-full bg-secondary/30 border border-border px-4 py-2 flex items-center gap-2 hover:border-primary/30 hover:text-primary transition-all duration-300 cursor-default\">\r\n                    <svg class=\"w-4 h-4 text-emerald-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg>\r\n                    <span class=\"text-sm text-muted-foreground\">${home.realtimeMonitoring}</span>\r\n                </div>\r\n                \r\n                <!-- Risk Mitigation -->\r\n                <div class=\"rounded-full bg-secondary/30 border border-border px-4 py-2 flex items-center gap-2 hover:border-primary/30 hover:text-primary transition-all duration-300 cursor-default\">\r\n                    <svg class=\"w-4 h-4 text-amber-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                    </svg>\r\n                    <span class=\"text-sm text-muted-foreground\">${home.riskMitigation}</span>\r\n                </div>\r\n                \r\n                <!-- Cost Optimization -->\r\n                <div class=\"rounded-full bg-secondary/30 border border-border px-4 py-2 flex items-center gap-2 hover:border-primary/30 hover:text-primary transition-all duration-300 cursor-default\">\r\n                    <svg class=\"w-4 h-4 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\r\n                    </svg>\r\n                    <span class=\"text-sm text-muted-foreground\">${home.costOptimization}</span>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        \r\n    </div>\r\n</div>\r\n`;\r\n};\r\n\r\n/**\r\n * Home page handler\r\n */\r\nexport const homePage = async () => {\r\n    await App.View.render(template(), 'home');\r\n    // Initialize typewriter effect after render\r\n    setTimeout(initTypewriter, 100);\r\n    // Initialize stat counter animation\r\n    animate.initStatCounters(800);\r\n};\r\n","/**\r\n * OptiMine SPA - About/Generic Page\r\n * Used as placeholder for routes under development\r\n */\r\n\r\nimport { App } from '../../app.js';\r\nimport { Router } from '../../routes/routes.js';\r\nimport { getSection } from '../../utils/translations.js';\r\n\r\nconst templates = {\r\n    planning: () => {\r\n        const lang = App.Model.getState('language') || 'id';\r\n        const p = getSection(lang, 'planning');\r\n        \r\n        return `\r\n    <div class=\"min-h-[calc(100vh-4rem)] pt-6 relative\">\r\n        <!-- Background Effects -->\r\n        <div class=\"absolute inset-0 -z-10 overflow-hidden\">\r\n            <div class=\"radial-gradient absolute inset-0\"></div>\r\n            <div class=\"absolute top-20 right-1/4 w-72 h-72 bg-primary/10 rounded-full blur-3xl\"></div>\r\n            <div class=\"absolute bottom-20 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl\"></div>\r\n        </div>\r\n        \r\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n            <!-- Header -->\r\n            <div class=\"mb-8 animate-fade-in\">\r\n                <h1 class=\"font-heading text-3xl md:text-4xl font-bold text-foreground\">\r\n                    ${p.title}\r\n                </h1>\r\n                <p class=\"text-muted-foreground mt-2\">\r\n                    ${p.subtitle}\r\n                </p>\r\n            </div>\r\n\r\n            <!-- Main Grid: 2/3 Input, 1/3 Status -->\r\n            <div class=\"grid lg:grid-cols-3 gap-6\">\r\n                \r\n                <!-- LEFT: Input Section (2/3) -->\r\n                <div class=\"lg:col-span-2 space-y-6\">\r\n                    \r\n                    <!-- Weather Conditions Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in stagger-1\">\r\n                        <h2 class=\"font-semibold text-lg text-foreground mb-6 flex items-center gap-2\">\r\n                            <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z\" />\r\n                            </svg>\r\n                            ${p.weatherConditions}\r\n                        </h2>\r\n                        \r\n                        <div class=\"space-y-6\">\r\n                            <!-- Rainfall Level Slider -->\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-muted-foreground mb-3\">${p.rainfallLevel}</label>\r\n                                <input \r\n                                    type=\"range\" \r\n                                    min=\"0\" \r\n                                    max=\"100\" \r\n                                    value=\"50\"\r\n                                    class=\"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer slider-primary\"\r\n                                >\r\n                                <div class=\"flex justify-between text-xs text-muted-foreground mt-2\">\r\n                                    <span>${p.low}</span>\r\n                                    <span>${p.high}</span>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <!-- Wave Height Slider -->\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-muted-foreground mb-3\">${p.waveHeight}</label>\r\n                                <input \r\n                                    type=\"range\" \r\n                                    min=\"0\" \r\n                                    max=\"100\" \r\n                                    value=\"35\"\r\n                                    class=\"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer slider-primary\"\r\n                                >\r\n                                <div class=\"flex justify-between text-xs text-muted-foreground mt-2\">\r\n                                    <span>${p.calm}</span>\r\n                                    <span>${p.rough}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Fleet Status Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in stagger-2\">\r\n                        <h2 class=\"font-semibold text-lg text-foreground mb-6 flex items-center gap-2\">\r\n                            <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                            </svg>\r\n                            ${p.fleetStatus}\r\n                        </h2>\r\n                        \r\n                        <div class=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-muted-foreground mb-2\">${p.activeVehicles}</label>\r\n                                <input \r\n                                    type=\"number\" \r\n                                    value=\"25\"\r\n                                    class=\"w-full px-4 py-3 bg-secondary/30 border border-border rounded-lg text-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\"\r\n                                >\r\n                            </div>\r\n                            <div>\r\n                                <label class=\"block text-sm font-medium text-muted-foreground mb-2\">${p.maintenanceStatus}</label>\r\n                                <input \r\n                                    type=\"number\" \r\n                                    value=\"3\"\r\n                                    class=\"w-full px-4 py-3 bg-secondary/30 border border-border rounded-lg text-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\"\r\n                                >\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Ship Schedule Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in stagger-3\">\r\n                        <h2 class=\"font-semibold text-lg text-foreground mb-6 flex items-center gap-2\">\r\n                            <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 13h2m-2 4h2m-2-8h2m4 8v-2a2 2 0 012-2h6a2 2 0 012 2v2M7 9V7a2 2 0 012-2h6a2 2 0 012 2v2m-4 4h.01M12 17h.01\" />\r\n                            </svg>\r\n                            ${p.shipSchedule}\r\n                        </h2>\r\n                        \r\n                        <div class=\"space-y-3\">\r\n                            <div class=\"flex items-center justify-between p-3 bg-secondary/30 border border-border rounded-lg\">\r\n                                <span class=\"text-foreground\">Vessel A - 08:00</span>\r\n                                <span class=\"px-3 py-1 text-xs font-medium bg-primary/20 text-primary rounded-full\">${p.active}</span>\r\n                            </div>\r\n                            <div class=\"flex items-center justify-between p-3 bg-secondary/30 border border-border rounded-lg\">\r\n                                <span class=\"text-foreground\">Vessel B - 14:00</span>\r\n                                <span class=\"px-3 py-1 text-xs font-medium bg-primary/20 text-primary rounded-full\">${p.active}</span>\r\n                            </div>\r\n                            <div class=\"flex items-center justify-between p-3 bg-secondary/30 border border-border rounded-lg\">\r\n                                <span class=\"text-foreground\">Vessel C - 20:00</span>\r\n                                <span class=\"px-3 py-1 text-xs font-medium bg-primary/20 text-primary rounded-full\">${p.active}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Generate Button -->\r\n                    <button class=\"w-full h-14 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 glow-hover animate-fade-in stagger-4\">\r\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\r\n                        </svg>\r\n                        ${p.generatePlan}\r\n                    </button>\r\n                </div>\r\n                \r\n                <!-- RIGHT: Status Panel (1/3) -->\r\n                <div class=\"lg:col-span-1 space-y-6\">\r\n                    \r\n                    <!-- System Status Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 border-glow animate-fade-in stagger-2\">\r\n                        <h2 class=\"font-semibold text-lg text-foreground mb-6 flex items-center gap-2\">\r\n                            <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                            </svg>\r\n                            ${p.systemStatus}\r\n                        </h2>\r\n                        \r\n                        <div class=\"space-y-3\">\r\n                            <div class=\"flex items-center gap-3 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg\">\r\n                                <span class=\"relative flex h-3 w-3\">\r\n                                    <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n                                    <span class=\"relative inline-flex rounded-full h-3 w-3 bg-emerald-500\"></span>\r\n                                </span>\r\n                                <span class=\"text-emerald-400 font-medium\">${p.aiSystemOnline}</span>\r\n                            </div>\r\n                            <div class=\"flex items-center gap-3 p-3 bg-primary/10 border border-primary/30 rounded-lg\">\r\n                                <span class=\"relative flex h-3 w-3\">\r\n                                    <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75\"></span>\r\n                                    <span class=\"relative inline-flex rounded-full h-3 w-3 bg-primary\"></span>\r\n                                </span>\r\n                                <span class=\"text-primary font-medium\">${p.n8nReady}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Active Alerts Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in stagger-3\">\r\n                        <h2 class=\"font-semibold text-lg text-foreground mb-6 flex items-center gap-2\">\r\n                            <svg class=\"w-5 h-5 text-amber-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                            </svg>\r\n                            ${p.activeAlerts}\r\n                        </h2>\r\n                        \r\n                        <div class=\"space-y-3\">\r\n                            <div class=\"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg\">\r\n                                <p class=\"text-amber-400 text-sm\">${p.alertRainfall}</p>\r\n                            </div>\r\n                            <div class=\"p-3 bg-orange-500/10 border border-orange-500/30 rounded-lg\">\r\n                                <p class=\"text-orange-400 text-sm\">${p.alertMaintenance}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n    },\r\n\r\n    'ai-tools': () => {\r\n        const lang = App.Model.getState('language') || 'id';\r\n        const ai = getSection(lang, 'aiTools');\r\n        \r\n        return `\r\n    <div class=\"h-[calc(100vh-4rem)] pt-6\">\r\n        <div class=\"h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n            <!-- Header -->\r\n            <div class=\"mb-6 animate-fade-in\">\r\n                <h1 class=\"font-heading text-3xl md:text-4xl font-bold text-foreground\">${ai.title}</h1>\r\n                <p class=\"text-muted-foreground mt-1\">${ai.subtitle}</p>\r\n            </div>\r\n            \r\n            <!-- Main Grid: Chat 3/4, Sidebar 1/4 -->\r\n            <div class=\"grid lg:grid-cols-4 gap-6 h-[calc(100%-6rem)]\">\r\n                \r\n                <!-- CHAT AREA (3/4) -->\r\n                <div class=\"lg:col-span-3 flex flex-col glass border border-border rounded-xl overflow-hidden animate-fade-in stagger-1\">\r\n                    \r\n                    <!-- Messages Area -->\r\n                    <div class=\"flex-1 overflow-y-auto p-6 space-y-4\" id=\"chat-messages\">\r\n                        \r\n                        <!-- AI Message -->\r\n                        <div class=\"flex items-start gap-3\">\r\n                            <div class=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\r\n                                <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"flex-1 max-w-[85%]\">\r\n                                <div class=\"bg-secondary/50 border border-border rounded-2xl rounded-bl-sm p-4\">\r\n                                    <p class=\"text-foreground\">${ai.greeting}</p>\r\n                                </div>\r\n                                <span class=\"text-xs text-muted-foreground mt-1 block\">12:29 PM</span>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n                    <!-- Input Area -->\r\n                    <div class=\"border-t border-border p-4\">\r\n                        <div class=\"flex gap-3\">\r\n                            <input \r\n                                type=\"text\" \r\n                                id=\"chat-input\"\r\n                                placeholder=\"${ai.placeholder}\" \r\n                                class=\"flex-1 px-4 py-3 bg-secondary/30 border border-border rounded-xl text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\"\r\n                            >\r\n                            <button id=\"send-btn\" class=\"px-5 py-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl transition-all duration-300 glow-hover flex items-center justify-center\">\r\n                                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- SIDEBAR (1/4) -->\r\n                <div class=\"lg:col-span-1 space-y-4\">\r\n                    \r\n                    <!-- AI Status Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-4 border-glow animate-fade-in stagger-2\">\r\n                        <div class=\"flex items-center gap-2 mb-2\">\r\n                            <span class=\"relative flex h-3 w-3\">\r\n                                <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n                                <span class=\"relative inline-flex rounded-full h-3 w-3 bg-emerald-500\"></span>\r\n                            </span>\r\n                            <span class=\"text-emerald-400 font-semibold\">${ai.aiOnline}</span>\r\n                        </div>\r\n                        <div class=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                            </svg>\r\n                            <span>${ai.responseTime}: &lt;2s</span>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Suggested Prompts Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-4 animate-fade-in stagger-3\">\r\n                        <h3 class=\"font-semibold text-foreground mb-3 flex items-center gap-2\">\r\n                            <svg class=\"w-4 h-4 text-amber-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n                            </svg>\r\n                            ${ai.suggestedPrompts}\r\n                        </h3>\r\n                        <div class=\"space-y-2\">\r\n                            <button class=\"suggested-prompt w-full text-left p-3 text-xs text-muted-foreground bg-secondary/30 border border-border rounded-lg hover:border-primary/30 hover:text-foreground transition-all\">\r\n                                ${ai.prompt1}\r\n                            </button>\r\n                            <button class=\"suggested-prompt w-full text-left p-3 text-xs text-muted-foreground bg-secondary/30 border border-border rounded-lg hover:border-primary/30 hover:text-foreground transition-all\">\r\n                                ${ai.prompt2}\r\n                            </button>\r\n                            <button class=\"suggested-prompt w-full text-left p-3 text-xs text-muted-foreground bg-secondary/30 border border-border rounded-lg hover:border-primary/30 hover:text-foreground transition-all\">\r\n                                ${ai.prompt3}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Integration Info Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-4 animate-fade-in stagger-4\">\r\n                        <h3 class=\"font-semibold text-foreground mb-2 flex items-center gap-2\">\r\n                            <svg class=\"w-4 h-4 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\r\n                            </svg>\r\n                            ${ai.integration}\r\n                        </h3>\r\n                        <p class=\"text-xs text-muted-foreground\">\r\n                            ${ai.integrationDesc}\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n    },\r\n\r\n    dashboard: () => {\r\n        const lang = App.Model.getState('language') || 'id';\r\n        const d = getSection(lang, 'dashboard');\r\n        \r\n        return `\r\n    <div class=\"min-h-screen pt-6 pb-8 px-4 sm:px-6 lg:px-8\">\r\n        <div class=\"max-w-7xl mx-auto\">\r\n            <div class=\"mb-8 animate-fade-in\">\r\n                <h1 class=\"font-heading text-3xl md:text-4xl font-bold text-foreground\">\r\n                    ${d.title}\r\n                </h1>\r\n                <p class=\"text-muted-foreground mt-2\">\r\n                    ${d.subtitle}\r\n                </p>\r\n            </div>\r\n\r\n            <div class=\"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n                <div class=\"glass border border-border rounded-xl p-4 animate-fade-in stagger-1\">\r\n                    <div class=\"flex items-center justify-between mb-2\">\r\n                        <span class=\"text-sm text-muted-foreground\">${d.totalProduction}</span>\r\n                        <i data-lucide=\"trending-up\" class=\"w-4 h-4 text-green-500\"></i>\r\n                    </div>\r\n                    <p class=\"text-2xl font-bold text-foreground\">24,580</p>\r\n                    <p class=\"text-xs text-green-500\">+12.5% ${d.fromLastMonth}</p>\r\n                </div>\r\n                \r\n                <div class=\"glass border border-border rounded-xl p-4 animate-fade-in stagger-2\">\r\n                    <div class=\"flex items-center justify-between mb-2\">\r\n                        <span class=\"text-sm text-muted-foreground\">${d.activeEquipment}</span>\r\n                        <i data-lucide=\"truck\" class=\"w-4 h-4 text-primary\"></i>\r\n                    </div>\r\n                    <p class=\"text-2xl font-bold text-foreground\">42</p>\r\n                    <p class=\"text-xs text-muted-foreground\">${d.outOfTotal}</p>\r\n                </div>\r\n                \r\n                <div class=\"glass border border-border rounded-xl p-4 animate-fade-in stagger-3\">\r\n                    <div class=\"flex items-center justify-between mb-2\">\r\n                        <span class=\"text-sm text-muted-foreground\">${d.efficiencyRate}</span>\r\n                        <i data-lucide=\"gauge\" class=\"w-4 h-4 text-amber-500\"></i>\r\n                    </div>\r\n                    <p class=\"text-2xl font-bold text-foreground\">94.2%</p>\r\n                    <p class=\"text-xs text-amber-500\">${d.target}: 95%</p>\r\n                </div>\r\n                \r\n                <div class=\"glass border border-border rounded-xl p-4 animate-fade-in stagger-4\">\r\n                    <div class=\"flex items-center justify-between mb-2\">\r\n                        <span class=\"text-sm text-muted-foreground\">${d.costSavings}</span>\r\n                        <i data-lucide=\"dollar-sign\" class=\"w-4 h-4 text-green-500\"></i>\r\n                    </div>\r\n                    <p class=\"text-2xl font-bold text-foreground\">$1.2M</p>\r\n                    <p class=\"text-xs text-green-500\">${d.thisQuarter}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"grid lg:grid-cols-2 gap-6\">\r\n                <div class=\"glass border border-border rounded-xl p-6 animate-fade-in stagger-5\">\r\n                    <h3 class=\"font-semibold text-foreground mb-4 flex items-center gap-2\">\r\n                        <i data-lucide=\"line-chart\" class=\"w-5 h-5 text-primary\"></i>\r\n                        ${d.productionTrends}\r\n                    </h3>\r\n                    <div class=\"h-64 flex items-center justify-center bg-secondary/20 rounded-lg\">\r\n                        <p class=\"text-muted-foreground\">${d.chartPlaceholder}</p>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"glass border border-border rounded-xl p-6 animate-fade-in stagger-5\">\r\n                    <h3 class=\"font-semibold text-foreground mb-4 flex items-center gap-2\">\r\n                        <i data-lucide=\"truck\" class=\"w-5 h-5 text-primary\"></i>\r\n                        ${d.equipmentStatus}\r\n                    </h3>\r\n                    <div class=\"h-64 flex items-center justify-center bg-secondary/20 rounded-lg\">\r\n                        <p class=\"text-muted-foreground\">${d.statusPlaceholder}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n    },\r\n\r\n    auth: () => {\r\n        const lang = localStorage.getItem('optimine-language') || 'id';\r\n        const a = getSection(lang, 'auth');\r\n        \r\n        return `\r\n    <div class=\"min-h-screen flex items-center justify-center px-4 pt-6 pb-8\">\r\n        <div class=\"w-full max-w-md\">\r\n            <!-- Main Auth Card -->\r\n            <div id=\"auth-card\" class=\"glass border border-border rounded-2xl p-6 sm:p-8 animate-scale-in\">\r\n                <!-- Header with Logo -->\r\n                <div class=\"text-center mb-6\">\r\n                    <img \r\n                        src=\"assets/images/b (192 x 192 piksel) (1).png\" \r\n                        alt=\"OptiMine Logo\" \r\n                        class=\"w-16 h-16 mx-auto mb-4 rounded-full border-2 border-amber-500/50 shadow-lg\"\r\n                    >\r\n                    <h1 class=\"font-heading text-2xl font-bold\">\r\n                        <span class=\"text-primary\">Opti</span><span class=\"text-foreground\">Mine</span>\r\n                    </h1>\r\n                    <p class=\"text-sm text-muted-foreground mt-1\">Mining Value Chain Optimization Platform</p>\r\n                </div>\r\n                \r\n                <!-- Tab Navigation -->\r\n                <div class=\"grid grid-cols-2 bg-secondary/50 border border-border rounded-lg p-1 mb-6\">\r\n                    <button id=\"login-tab\" class=\"auth-tab active py-2.5 px-4 text-sm font-medium rounded-md transition-all duration-300\">\r\n                        ${a.login}\r\n                    </button>\r\n                    <button id=\"register-tab\" class=\"auth-tab py-2.5 px-4 text-sm font-medium rounded-md transition-all duration-300\">\r\n                        ${a.register}\r\n                    </button>\r\n                </div>\r\n                \r\n                <!-- LOGIN FORM -->\r\n                <form id=\"login-form\" class=\"space-y-4\">\r\n                    <!-- Email -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.email}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"email\" \r\n                                id=\"login-email\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"email@example.com\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Password -->\r\n                    <div>\r\n                        <div class=\"flex items-center justify-between mb-2\">\r\n                            <label class=\"block text-sm font-medium text-foreground\">${a.password}</label>\r\n                            <button type=\"button\" id=\"forgot-password-btn\" class=\"text-xs text-primary hover:text-primary/80 transition-colors\">\r\n                                ${a.forgotPassword}\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"password\" \r\n                                id=\"login-password\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Submit Button -->\r\n                    <button \r\n                        type=\"submit\" \r\n                        class=\"w-full py-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg font-medium transition-all duration-300 glow-hover mt-6\"\r\n                    >\r\n                        ${a.signIn}\r\n                    </button>\r\n                </form>\r\n                \r\n                <!-- REGISTER FORM -->\r\n                <form id=\"register-form\" class=\"space-y-4 hidden\">\r\n                    <!-- Full Name -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.fullName}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"text\" \r\n                                id=\"register-name\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"John Doe\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Email -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.email}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"email\" \r\n                                id=\"register-email\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"email@example.com\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Password -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.password}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"password\" \r\n                                id=\"register-password\" \r\n                                required \r\n                                minlength=\"6\"\r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"\"\r\n                            >\r\n                        </div>\r\n                        <!-- Password Strength Container (hidden by default) -->\r\n                        <div id=\"password-info-container\" class=\"hidden mt-3 p-3 bg-secondary/30 border border-border rounded-lg animate-fade-in\">\r\n                            <!-- Password Strength Indicator -->\r\n                            <div id=\"password-strength-container\" class=\"hidden mb-3\">\r\n                                <div class=\"flex gap-1 mb-1\">\r\n                                    <div id=\"strength-bar-1\" class=\"h-1.5 flex-1 rounded-full bg-secondary transition-colors duration-300\"></div>\r\n                                    <div id=\"strength-bar-2\" class=\"h-1.5 flex-1 rounded-full bg-secondary transition-colors duration-300\"></div>\r\n                                    <div id=\"strength-bar-3\" class=\"h-1.5 flex-1 rounded-full bg-secondary transition-colors duration-300\"></div>\r\n                                    <div id=\"strength-bar-4\" class=\"h-1.5 flex-1 rounded-full bg-secondary transition-colors duration-300\"></div>\r\n                                </div>\r\n                                <p id=\"password-strength-text\" class=\"text-xs font-medium\"></p>\r\n                            </div>\r\n                            <!-- Password Requirements -->\r\n                            <div id=\"password-requirements\" class=\"space-y-1.5 text-xs\">\r\n                                <p id=\"req-title\" class=\"text-muted-foreground font-medium mb-2\"></p>\r\n                                <p id=\"req-length\" class=\"flex items-center gap-2 text-muted-foreground\">\r\n                                    <svg class=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"10\" stroke-width=\"2\"/>\r\n                                    </svg>\r\n                                    <span></span>\r\n                                </p>\r\n                                <p id=\"req-uppercase\" class=\"flex items-center gap-2 text-muted-foreground\">\r\n                                    <svg class=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"10\" stroke-width=\"2\"/>\r\n                                    </svg>\r\n                                    <span></span>\r\n                                </p>\r\n                                <p id=\"req-number\" class=\"flex items-center gap-2 text-muted-foreground\">\r\n                                    <svg class=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"10\" stroke-width=\"2\"/>\r\n                                    </svg>\r\n                                    <span></span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Confirm Password -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.confirmPassword}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"password\" \r\n                                id=\"register-confirm-password\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Role Dropdown -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.role}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <select \r\n                                id=\"register-role\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-10 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all appearance-none cursor-pointer\"\r\n                            >\r\n                                <option value=\"mine_planner\">${a.miningPlanner}</option>\r\n                                <option value=\"shipping_planner\">${a.shippingPlanner}</option>\r\n                            </select>\r\n                            <div class=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Submit Button -->\r\n                    <button \r\n                        type=\"submit\" \r\n                        class=\"w-full py-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg font-medium transition-all duration-300 glow-hover mt-2\"\r\n                    >\r\n                        ${a.createAccount}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            \r\n            <!-- FORGOT PASSWORD CARD -->\r\n            <div id=\"forgot-password-card\" class=\"glass border border-border rounded-2xl p-6 sm:p-8 animate-scale-in hidden\">\r\n                <!-- Header -->\r\n                <div class=\"text-center mb-6\">\r\n                    <div class=\"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center\">\r\n                        <svg class=\"w-8 h-8 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z\" />\r\n                        </svg>\r\n                    </div>\r\n                    <h2 class=\"font-heading text-xl font-bold text-foreground\">${a.resetPassword}</h2>\r\n                    <p class=\"text-sm text-muted-foreground mt-2\">${a.resetDesc}</p>\r\n                </div>\r\n                \r\n                <form id=\"forgot-password-form\" class=\"space-y-4\">\r\n                    <!-- Email -->\r\n                    <div>\r\n                        <label class=\"block text-sm font-medium text-foreground mb-2\">${a.email}</label>\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <input \r\n                                type=\"email\" \r\n                                id=\"forgot-email\" \r\n                                required \r\n                                class=\"w-full pl-10 pr-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-primary focus:border-transparent transition-all\" \r\n                                placeholder=\"email@example.com\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- Submit Button -->\r\n                    <button \r\n                        type=\"submit\" \r\n                        class=\"w-full py-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg font-medium transition-all duration-300 glow-hover\"\r\n                    >\r\n                        ${a.sendResetLink}\r\n                    </button>\r\n                    \r\n                    <!-- Back to Login -->\r\n                    <button \r\n                        type=\"button\" \r\n                        id=\"back-to-login-btn\"\r\n                        class=\"w-full py-3 bg-secondary/50 hover:bg-secondary/70 text-foreground border border-border rounded-lg font-medium transition-all duration-300\"\r\n                    >\r\n                        ${a.backToLogin}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n    },\r\n\r\n    profile: () => {\r\n        const user = JSON.parse(localStorage.getItem('optimine-user') || '{}');\r\n        const theme = localStorage.getItem('optimine-theme') || 'dark';\r\n        const lang = localStorage.getItem('optimine-language') || 'id';\r\n        const pr = getSection(lang, 'profile');\r\n        \r\n        return `\r\n        <div class=\"min-h-screen pt-6 pb-8 px-4 sm:px-6 lg:px-8\">\r\n            <div class=\"max-w-2xl mx-auto\">\r\n                <div class=\"mb-8 animate-fade-in\">\r\n                    <h1 class=\"font-heading text-3xl md:text-4xl font-bold text-foreground\">\r\n                        ${pr.title}\r\n                    </h1>\r\n                    <p class=\"text-muted-foreground mt-2\">\r\n                        ${pr.subtitle}\r\n                    </p>\r\n                </div>\r\n\r\n                <div class=\"glass border border-border rounded-xl p-6 mb-6 animate-fade-in stagger-1\">\r\n                    <div class=\"flex items-center gap-4 mb-6\">\r\n                        <div class=\"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white text-2xl font-bold\">\r\n                            ${(user.name || 'U').charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div>\r\n                            <h2 class=\"text-xl font-semibold text-foreground\">${user.name || 'User'}</h2>\r\n                            <p class=\"text-muted-foreground\">${user.email || 'user@example.com'}</p>\r\n                            <span class=\"inline-block mt-1 px-2 py-0.5 text-xs bg-primary/10 text-primary rounded-full\">${user.role || 'member'}</span>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"space-y-4\">\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-foreground mb-1\">${pr.displayName}</label>\r\n                            <input type=\"text\" value=\"${user.name || ''}\" class=\"w-full px-4 py-2.5 bg-secondary/50 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\">\r\n                        </div>\r\n                        <div>\r\n                            <label class=\"block text-sm font-medium text-foreground mb-1\">${pr.email}</label>\r\n                            <input type=\"email\" value=\"${user.email || ''}\" disabled class=\"w-full px-4 py-2.5 bg-secondary/30 border border-border rounded-lg text-muted-foreground\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"glass border border-border rounded-xl p-6 mb-6 animate-fade-in stagger-2\">\r\n                    <h3 class=\"font-semibold text-foreground mb-4\">${pr.preferences}</h3>\r\n                    \r\n                    <div class=\"space-y-4\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"font-medium text-foreground\">${pr.darkMode}</p>\r\n                                <p class=\"text-sm text-muted-foreground\">${pr.useDarkTheme}</p>\r\n                            </div>\r\n                            <button id=\"profile-theme-toggle\" class=\"relative w-12 h-6 bg-secondary rounded-full transition-colors ${theme === 'dark' ? 'bg-primary/30' : ''}\">\r\n                                <span class=\"absolute left-1 top-1 w-4 h-4 bg-foreground rounded-full transition-transform ${theme === 'dark' ? 'translate-x-6 bg-primary' : ''}\"></span>\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        <div class=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p class=\"font-medium text-foreground\">${pr.language}</p>\r\n                                <p class=\"text-sm text-muted-foreground\">${pr.selectLanguage}</p>\r\n                            </div>\r\n                            <div class=\"flex gap-2\">\r\n                                <button class=\"profile-lang-btn px-3 py-1.5 text-sm rounded-md transition-colors ${lang === 'en' ? 'bg-primary/10 text-primary' : 'hover:bg-secondary/50'}\" data-lang=\"en\"> EN</button>\r\n                                <button class=\"profile-lang-btn px-3 py-1.5 text-sm rounded-md transition-colors ${lang === 'id' ? 'bg-primary/10 text-primary' : 'hover:bg-secondary/50'}\" data-lang=\"id\"> ID</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button id=\"logout-btn\" class=\"w-full py-2.5 border border-red-500/50 text-red-500 hover:bg-red-500/10 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 animate-fade-in stagger-3\">\r\n                    <i data-lucide=\"log-out\" class=\"w-4 h-4\"></i>\r\n                    ${pr.signOut}\r\n                </button>\r\n            </div>\r\n        </div>\r\n        `;\r\n    }\r\n};\r\n\r\n/**\r\n * Setup auth form handlers\r\n */\r\nconst setupAuthHandlers = () => {\r\n    const loginTab = document.getElementById('login-tab');\r\n    const registerTab = document.getElementById('register-tab');\r\n    let loginForm = document.getElementById('login-form');\r\n    let registerForm = document.getElementById('register-form');\r\n    const authCard = document.getElementById('auth-card');\r\n    const forgotPasswordCard = document.getElementById('forgot-password-card');\r\n    const forgotPasswordBtn = document.getElementById('forgot-password-btn');\r\n    const backToLoginBtn = document.getElementById('back-to-login-btn');\r\n    const forgotPasswordForm = document.getElementById('forgot-password-form');\r\n    \r\n    // Clone forms to remove all previous event listeners (prevent duplicate handlers)\r\n    if (loginForm) {\r\n        const loginFormClone = loginForm.cloneNode(true);\r\n        loginForm.replaceWith(loginFormClone);\r\n        loginForm = loginFormClone;\r\n    }\r\n    if (registerForm) {\r\n        const registerFormClone = registerForm.cloneNode(true);\r\n        registerForm.replaceWith(registerFormClone);\r\n        registerForm = registerFormClone;\r\n    }\r\n    \r\n    // Tab switching - Login\r\n    loginTab?.addEventListener('click', () => {\r\n        loginTab.classList.add('active');\r\n        registerTab?.classList.remove('active');\r\n        loginForm?.classList.remove('hidden');\r\n        registerForm?.classList.add('hidden');\r\n    });\r\n    \r\n    // Tab switching - Register\r\n    registerTab?.addEventListener('click', () => {\r\n        registerTab.classList.add('active');\r\n        loginTab?.classList.remove('active');\r\n        registerForm?.classList.remove('hidden');\r\n        loginForm?.classList.add('hidden');\r\n    });\r\n    \r\n    // Password Strength Checker\r\n    const registerPassword = document.getElementById('register-password');\r\n    const passwordInfoContainer = document.getElementById('password-info-container');\r\n    const strengthContainer = document.getElementById('password-strength-container');\r\n    const strengthText = document.getElementById('password-strength-text');\r\n    const strengthBars = [\r\n        document.getElementById('strength-bar-1'),\r\n        document.getElementById('strength-bar-2'),\r\n        document.getElementById('strength-bar-3'),\r\n        document.getElementById('strength-bar-4')\r\n    ];\r\n    const reqTitle = document.getElementById('req-title');\r\n    const reqLength = document.getElementById('req-length');\r\n    const reqUppercase = document.getElementById('req-uppercase');\r\n    const reqNumber = document.getElementById('req-number');\r\n    \r\n    // Get current language translations\r\n    const getAuthTranslations = () => {\r\n        const lang = localStorage.getItem('optimine-language') || 'id';\r\n        return window.getSection ? window.getSection(lang, 'auth') : {\r\n            passwordRequirements: lang === 'en' ? 'Password Requirements:' : 'Persyaratan Password:',\r\n            minLength: lang === 'en' ? 'Minimum 6 characters' : 'Minimal 6 karakter',\r\n            uppercase: lang === 'en' ? 'Uppercase letter (A-Z)' : 'Huruf kapital (A-Z)',\r\n            number: lang === 'en' ? 'Number (0-9)' : 'Angka (0-9)',\r\n            weak: lang === 'en' ? 'Weak' : 'Lemah',\r\n            medium: lang === 'en' ? 'Medium' : 'Sedang',\r\n            fair: lang === 'en' ? 'Fair' : 'Cukup Kuat',\r\n            strong: lang === 'en' ? 'Strong' : 'Kuat',\r\n            passwordError: lang === 'en' ? 'Password must be at least 6 characters, contain uppercase letter and number!' : 'Password harus minimal 6 karakter, mengandung huruf kapital dan angka!',\r\n            passwordMismatch: lang === 'en' ? 'Passwords do not match!' : 'Password tidak cocok!'\r\n        };\r\n    };\r\n    \r\n    // Initialize requirement texts\r\n    const initPasswordRequirements = () => {\r\n        const t = getAuthTranslations();\r\n        if (reqTitle) reqTitle.textContent = t.passwordRequirements;\r\n        if (reqLength) reqLength.querySelector('span').textContent = t.minLength;\r\n        if (reqUppercase) reqUppercase.querySelector('span').textContent = t.uppercase;\r\n        if (reqNumber) reqNumber.querySelector('span').textContent = t.number;\r\n    };\r\n    \r\n    const checkPasswordStrength = (password) => {\r\n        const t = getAuthTranslations();\r\n        let strength = 0;\r\n        const checks = {\r\n            length: password.length >= 6,\r\n            uppercase: /[A-Z]/.test(password),\r\n            number: /[0-9]/.test(password),\r\n            special: /[!@#$%^&*(),.?\":{}|<>]/.test(password),\r\n            lowercase: /[a-z]/.test(password)\r\n        };\r\n        \r\n        // Update requirement indicators\r\n        updateRequirement(reqLength, checks.length, t.minLength);\r\n        updateRequirement(reqUppercase, checks.uppercase, t.uppercase);\r\n        updateRequirement(reqNumber, checks.number, t.number);\r\n        \r\n        // Calculate strength\r\n        if (checks.length) strength++;\r\n        if (checks.uppercase) strength++;\r\n        if (checks.number) strength++;\r\n        if (checks.special || (checks.lowercase && password.length >= 8)) strength++;\r\n        \r\n        return { strength, checks };\r\n    };\r\n    \r\n    const updateRequirement = (element, isValid, text) => {\r\n        if (!element) return;\r\n        if (isValid) {\r\n            element.classList.remove('text-muted-foreground');\r\n            element.classList.add('text-green-500');\r\n            element.innerHTML = `\r\n                <svg class=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\r\n                </svg>\r\n                <span>${text}</span>\r\n            `;\r\n        } else {\r\n            element.classList.add('text-muted-foreground');\r\n            element.classList.remove('text-green-500');\r\n            element.innerHTML = `\r\n                <svg class=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke-width=\"2\"/>\r\n                </svg>\r\n                <span>${text}</span>\r\n            `;\r\n        }\r\n    };\r\n    \r\n    const updateStrengthUI = (strength) => {\r\n        const t = getAuthTranslations();\r\n        const colors = {\r\n            0: { bar: 'bg-secondary', text: '', label: '' },\r\n            1: { bar: 'bg-red-500', text: 'text-red-500', label: t.weak },\r\n            2: { bar: 'bg-orange-500', text: 'text-orange-500', label: t.medium },\r\n            3: { bar: 'bg-yellow-500', text: 'text-yellow-500', label: t.fair },\r\n            4: { bar: 'bg-green-500', text: 'text-green-500', label: t.strong }\r\n        };\r\n        \r\n        const config = colors[strength];\r\n        \r\n        // Update bars\r\n        strengthBars.forEach((bar, index) => {\r\n            if (!bar) return;\r\n            bar.className = 'h-1.5 flex-1 rounded-full transition-colors duration-300';\r\n            if (index < strength) {\r\n                bar.classList.add(config.bar);\r\n            } else {\r\n                bar.classList.add('bg-secondary');\r\n            }\r\n        });\r\n        \r\n        // Update text\r\n        if (strengthText) {\r\n            strengthText.textContent = config.label;\r\n            strengthText.className = `text-xs font-medium ${config.text}`;\r\n        }\r\n    };\r\n    \r\n    // Show password info on focus\r\n    registerPassword?.addEventListener('focus', () => {\r\n        initPasswordRequirements();\r\n        passwordInfoContainer?.classList.remove('hidden');\r\n    });\r\n    \r\n    // Hide password info on blur (only if empty)\r\n    registerPassword?.addEventListener('blur', () => {\r\n        if (!registerPassword.value) {\r\n            passwordInfoContainer?.classList.add('hidden');\r\n            strengthContainer?.classList.add('hidden');\r\n        }\r\n    });\r\n    \r\n    registerPassword?.addEventListener('input', (e) => {\r\n        const password = e.target.value;\r\n        const t = getAuthTranslations();\r\n        \r\n        // Always show container when typing\r\n        passwordInfoContainer?.classList.remove('hidden');\r\n        \r\n        if (password.length > 0) {\r\n            strengthContainer?.classList.remove('hidden');\r\n            const { strength } = checkPasswordStrength(password);\r\n            updateStrengthUI(strength);\r\n        } else {\r\n            strengthContainer?.classList.add('hidden');\r\n            updateStrengthUI(0);\r\n            // Reset requirements with translations\r\n            updateRequirement(reqLength, false, t.minLength);\r\n            updateRequirement(reqUppercase, false, t.uppercase);\r\n            updateRequirement(reqNumber, false, t.number);\r\n        }\r\n    });\r\n    \r\n    // Show Forgot Password\r\n    forgotPasswordBtn?.addEventListener('click', () => {\r\n        authCard?.classList.add('hidden');\r\n        forgotPasswordCard?.classList.remove('hidden');\r\n    });\r\n    \r\n    // Back to Login from Forgot Password\r\n    backToLoginBtn?.addEventListener('click', () => {\r\n        forgotPasswordCard?.classList.add('hidden');\r\n        authCard?.classList.remove('hidden');\r\n        // Reset to login tab\r\n        loginTab?.classList.add('active');\r\n        registerTab?.classList.remove('active');\r\n        loginForm?.classList.remove('hidden');\r\n        registerForm?.classList.add('hidden');\r\n    });\r\n    \r\n    // Login Form Submit\r\n    loginForm?.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n        const email = document.getElementById('login-email')?.value;\r\n        const password = document.getElementById('login-password')?.value;\r\n        \r\n        // Add loading state\r\n        const submitBtn = loginForm.querySelector('button[type=\"submit\"]');\r\n        const originalText = submitBtn?.innerHTML;\r\n        if (submitBtn) {\r\n            submitBtn.innerHTML = `\r\n                <svg class=\"animate-spin h-5 w-5 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            `;\r\n            submitBtn.disabled = true;\r\n        }\r\n        \r\n        await App.Presenter.handleLogin(email, password);\r\n        \r\n        // Reset button\r\n        if (submitBtn) {\r\n            submitBtn.innerHTML = originalText;\r\n            submitBtn.disabled = false;\r\n        }\r\n    });\r\n    \r\n    // Register Form Submit\r\n    registerForm?.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n        const name = document.getElementById('register-name')?.value;\r\n        const email = document.getElementById('register-email')?.value;\r\n        const password = document.getElementById('register-password')?.value;\r\n        const confirmPassword = document.getElementById('register-confirm-password')?.value;\r\n        const role = document.getElementById('register-role')?.value;\r\n        \r\n        // Get translations for error messages\r\n        const t = getAuthTranslations();\r\n        \r\n        // Validate password requirements\r\n        const hasMinLength = password.length >= 6;\r\n        const hasUppercase = /[A-Z]/.test(password);\r\n        const hasNumber = /[0-9]/.test(password);\r\n        \r\n        if (!hasMinLength || !hasUppercase || !hasNumber) {\r\n            // Don't show toast here - let Presenter handle it\r\n            return;\r\n        }\r\n        \r\n        // Validate passwords match\r\n        if (password !== confirmPassword) {\r\n            // Don't show toast here - let Presenter handle it\r\n            return;\r\n        }\r\n        \r\n        // Add loading state\r\n        const submitBtn = registerForm.querySelector('button[type=\"submit\"]');\r\n        const originalText = submitBtn?.innerHTML;\r\n        if (submitBtn) {\r\n            submitBtn.innerHTML = `\r\n                <svg class=\"animate-spin h-5 w-5 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            `;\r\n            submitBtn.disabled = true;\r\n        }\r\n        \r\n        await App.Presenter.handleRegister(name, email, password, role);\r\n        \r\n        // Reset button\r\n        if (submitBtn) {\r\n            submitBtn.innerHTML = originalText;\r\n            submitBtn.disabled = false;\r\n        }\r\n    });\r\n    \r\n    // Forgot Password Form Submit\r\n    forgotPasswordForm?.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n        const email = document.getElementById('forgot-email')?.value;\r\n        \r\n        // Add loading state\r\n        const submitBtn = forgotPasswordForm.querySelector('button[type=\"submit\"]');\r\n        const originalText = submitBtn?.innerHTML;\r\n        if (submitBtn) {\r\n            submitBtn.innerHTML = `\r\n                <svg class=\"animate-spin h-5 w-5 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            `;\r\n            submitBtn.disabled = true;\r\n        }\r\n        \r\n        // Simulate password reset (in real app, this would call an API)\r\n        await new Promise(resolve => setTimeout(resolve, 1500));\r\n        alert(`Password reset link sent to ${email}`);\r\n        \r\n        // Reset button and go back to login\r\n        if (submitBtn) {\r\n            submitBtn.innerHTML = originalText;\r\n            submitBtn.disabled = false;\r\n        }\r\n        \r\n        forgotPasswordCard?.classList.add('hidden');\r\n        authCard?.classList.remove('hidden');\r\n    });\r\n};\r\n\r\n/**\r\n * Setup profile handlers\r\n */\r\nconst setupProfileHandlers = () => {\r\n    let logoutBtn = document.getElementById('logout-btn');\r\n    let themeToggle = document.getElementById('profile-theme-toggle');\r\n    const langBtns = document.querySelectorAll('.profile-lang-btn');\r\n    \r\n    // Clone buttons to remove all previous event listeners (prevent duplicate handlers)\r\n    if (logoutBtn) {\r\n        const logoutBtnClone = logoutBtn.cloneNode(true);\r\n        logoutBtn.replaceWith(logoutBtnClone);\r\n        logoutBtn = logoutBtnClone;\r\n    }\r\n    if (themeToggle) {\r\n        const themeToggleClone = themeToggle.cloneNode(true);\r\n        themeToggle.replaceWith(themeToggleClone);\r\n        themeToggle = themeToggleClone;\r\n    }\r\n    \r\n    logoutBtn?.addEventListener('click', () => {\r\n        App.Presenter.handleLogout();\r\n    });\r\n    \r\n    themeToggle?.addEventListener('click', () => {\r\n        App.Model.toggleTheme();\r\n        const dot = themeToggle.querySelector('span');\r\n        const isDark = App.Model.getState('theme') === 'dark';\r\n        dot?.classList.toggle('translate-x-6', isDark);\r\n        dot?.classList.toggle('bg-primary', isDark);\r\n        themeToggle.classList.toggle('bg-primary/30', isDark);\r\n    });\r\n    \r\n    langBtns.forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            const lang = btn.dataset.lang;\r\n            App.Model.setLanguage(lang);\r\n            // Re-render profile page to apply translations\r\n            Router.handleRouteChange();\r\n        });\r\n    });\r\n};\r\n\r\n/**\r\n * Setup AI Chat handlers\r\n */\r\nconst setupChatHandlers = () => {\r\n    const chatInput = document.getElementById('chat-input');\r\n    const sendBtn = document.getElementById('send-btn');\r\n    const messagesContainer = document.getElementById('chat-messages');\r\n    const suggestedPrompts = document.querySelectorAll('.suggested-prompt');\r\n    \r\n    // Function to add a message to chat\r\n    const addMessage = (content, isUser = false) => {\r\n        const time = new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\r\n        \r\n        const messageHTML = isUser ? `\r\n            <div class=\"flex items-start gap-3 justify-end\">\r\n                <div class=\"flex-1 max-w-[85%] flex flex-col items-end\">\r\n                    <div class=\"bg-primary text-primary-foreground rounded-2xl rounded-br-sm p-4\">\r\n                        <p>${content}</p>\r\n                    </div>\r\n                    <span class=\"text-xs text-muted-foreground mt-1\">${time}</span>\r\n                </div>\r\n                <div class=\"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0\">\r\n                    <svg class=\"w-5 h-5 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        ` : `\r\n            <div class=\"flex items-start gap-3\">\r\n                <div class=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\r\n                    <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                    </svg>\r\n                </div>\r\n                <div class=\"flex-1 max-w-[85%]\">\r\n                    <div class=\"bg-secondary/50 border border-border rounded-2xl rounded-bl-sm p-4\">\r\n                        <p class=\"text-foreground\">${content}</p>\r\n                    </div>\r\n                    <span class=\"text-xs text-muted-foreground mt-1 block\">${time}</span>\r\n                </div>\r\n            </div>\r\n        `;\r\n        \r\n        messagesContainer?.insertAdjacentHTML('beforeend', messageHTML);\r\n        \r\n        // Auto-scroll to bottom\r\n        if (messagesContainer) {\r\n            messagesContainer.scrollTop = messagesContainer.scrollHeight;\r\n        }\r\n    };\r\n    \r\n    // Function to send message\r\n    const sendMessage = () => {\r\n        const message = chatInput?.value?.trim();\r\n        if (!message) return;\r\n        \r\n        // Add user message\r\n        addMessage(message, true);\r\n        \r\n        // Clear input\r\n        if (chatInput) chatInput.value = '';\r\n        \r\n        // Simulate AI response (in real app, this would call an API)\r\n        setTimeout(() => {\r\n            const responses = [\r\n                \"Based on current weather conditions and fleet status, I recommend adjusting the mining schedule to avoid peak rainfall hours.\",\r\n                \"I've analyzed your query. The current conditions suggest optimal production can be achieved by reallocating 3 vehicles from Site A to Site B.\",\r\n                \"According to the latest data, shipping delays are expected to be minimal today. I recommend proceeding with the scheduled departures.\",\r\n                \"I've processed your request. The AI analysis indicates that maintenance should be scheduled during low-activity periods to minimize operational impact.\"\r\n            ];\r\n            const randomResponse = responses[Math.floor(Math.random() * responses.length)];\r\n            addMessage(randomResponse, false);\r\n        }, 1000);\r\n    };\r\n    \r\n    // Send button click\r\n    sendBtn?.addEventListener('click', sendMessage);\r\n    \r\n    // Enter key to send\r\n    chatInput?.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            e.preventDefault();\r\n            sendMessage();\r\n        }\r\n    });\r\n    \r\n    // Suggested prompts click\r\n    suggestedPrompts.forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            const promptText = btn.textContent?.trim();\r\n            if (chatInput && promptText) {\r\n                chatInput.value = promptText;\r\n                chatInput.focus();\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\n/**\r\n * About page handler - generic page renderer\r\n */\r\nexport const aboutPage = async (params) => {\r\n    const route = Router.getCurrentRoute();\r\n    const template = templates[route] || templates.planning;\r\n    \r\n    await App.View.render(typeof template === 'function' ? template() : template, route);\r\n    \r\n    // Setup handlers based on route\r\n    if (route === 'auth') {\r\n        setupAuthHandlers();\r\n    } else if (route === 'profile') {\r\n        setupProfileHandlers();\r\n    } else if (route === 'ai-tools') {\r\n        setupChatHandlers();\r\n    }\r\n};\r\n","/**\r\n * OptiMine SPA - API Service\r\n * Handle all API calls to backend\r\n */\r\n\r\nimport { Config } from '../../config.js';\r\n\r\nconst BASE_URL = Config.api.baseUrl;\r\n\r\n/**\r\n * API Helper\r\n */\r\nconst api = {\r\n    /**\r\n     * Make HTTP request\r\n     * @param {string} endpoint \r\n     * @param {Object} options \r\n     * @returns {Promise}\r\n     */\r\n    async request(endpoint, options = {}) {\r\n        const url = `${BASE_URL}${endpoint}`;\r\n        const token = localStorage.getItem(Config.storage.token);\r\n\r\n        const defaultHeaders = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n\r\n        if (token) {\r\n            defaultHeaders['Authorization'] = `Bearer ${token}`;\r\n        }\r\n\r\n        const config = {\r\n            ...options,\r\n            headers: {\r\n                ...defaultHeaders,\r\n                ...options.headers\r\n            }\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(url, config);\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || 'Request failed');\r\n            }\r\n\r\n            return data;\r\n        } catch (error) {\r\n            console.error('API Error:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * GET request\r\n     */\r\n    get(endpoint) {\r\n        return this.request(endpoint, { method: 'GET' });\r\n    },\r\n\r\n    /**\r\n     * POST request\r\n     */\r\n    post(endpoint, body) {\r\n        return this.request(endpoint, {\r\n            method: 'POST',\r\n            body: JSON.stringify(body)\r\n        });\r\n    },\r\n\r\n    /**\r\n     * PUT request\r\n     */\r\n    put(endpoint, body) {\r\n        return this.request(endpoint, {\r\n            method: 'PUT',\r\n            body: JSON.stringify(body)\r\n        });\r\n    },\r\n\r\n    /**\r\n     * DELETE request\r\n     */\r\n    delete(endpoint) {\r\n        return this.request(endpoint, { method: 'DELETE' });\r\n    }\r\n};\r\n\r\n/**\r\n * API Endpoints\r\n */\r\nexport const API = {\r\n    // Auth endpoints\r\n    auth: {\r\n        login: (credentials) => api.post('/auth/login', credentials),\r\n        register: (userData) => api.post('/auth/register', userData),\r\n        logout: () => api.post('/auth/logout'),\r\n        profile: () => api.get('/auth/profile')\r\n    },\r\n\r\n    // Mining data endpoints\r\n    mining: {\r\n        getAll: () => api.get('/mining'),\r\n        getById: (id) => api.get(`/mining/${id}`),\r\n        create: (data) => api.post('/mining', data),\r\n        update: (id, data) => api.put(`/mining/${id}`, data),\r\n        delete: (id) => api.delete(`/mining/${id}`)\r\n    },\r\n\r\n    // Production endpoints\r\n    production: {\r\n        getStats: () => api.get('/production/stats'),\r\n        getPlan: (params) => api.get(`/production/plan?${new URLSearchParams(params)}`),\r\n        optimize: (data) => api.post('/production/optimize', data)\r\n    },\r\n\r\n    // AI Assistant endpoints - Connected to Backend AI Service\r\n    ai: {\r\n        chat: async (message) => {\r\n            // Use backend proxy to AI Service (Docker container on port 8000)\r\n            const token = localStorage.getItem(Config.storage.token);\r\n\r\n            console.log(' Sending to Backend AI Service:', `${BASE_URL}/ai/chat`);\r\n            console.log('Message:', message);\r\n\r\n            try {\r\n                const headers = {\r\n                    'Content-Type': 'application/json',\r\n                };\r\n\r\n                // Add Authorization header if token exists\r\n                if (token) {\r\n                    headers['Authorization'] = `Bearer ${token}`;\r\n                }\r\n\r\n                const response = await fetch(`${BASE_URL}/ai/chat`, {\r\n                    method: 'POST',\r\n                    headers: headers,\r\n                    body: JSON.stringify({\r\n                        chatInput: message,\r\n                        message: message,\r\n                        timestamp: new Date().toISOString(),\r\n                        userId: localStorage.getItem('user') || 'anonymous',\r\n                        language: document.documentElement.lang || 'id'\r\n                    })\r\n                });\r\n\r\n                // Try to get response body even if status is not ok\r\n                let data;\r\n                try {\r\n                    const responseText = await response.text();\r\n                    console.log(' Raw response:', responseText);\r\n                    data = responseText ? JSON.parse(responseText) : {};\r\n                } catch (parseError) {\r\n                    console.error('Parse error:', parseError);\r\n                    data = {};\r\n                }\r\n\r\n                console.log(' AI Service response status:', response.status);\r\n                console.log(' AI Service response data:', data);\r\n\r\n                // Check if this is an error message\r\n                if (data.error) {\r\n                    throw new Error(data.message || 'AI Service Error');\r\n                }\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP error! status: ${response.status}`);\r\n                }\r\n\r\n                // Return response in expected format\r\n                // Backend returns: { success: true, data: { response: \"...\", model_used: \"...\" } }\r\n                const aiResponse = data.data?.response || data.response || data.output || data.text || data.message || 'No response';\r\n\r\n                return {\r\n                    success: true,\r\n                    data: {\r\n                        response: aiResponse\r\n                    }\r\n                };\r\n            } catch (error) {\r\n                console.error(' Error connecting to AI Service:', error);\r\n                throw error;\r\n            }\r\n        },\r\n\r\n        // AI Planning - Auto Recommend endpoint\r\n        plan: async (payload) => {\r\n            const token = localStorage.getItem(Config.storage.token);\r\n\r\n            console.log(' Sending to AI Plan Service:', `${BASE_URL}/ai/plan`);\r\n            console.log('Payload:', payload);\r\n\r\n            try {\r\n                const headers = {\r\n                    'Content-Type': 'application/json',\r\n                };\r\n\r\n                if (token) {\r\n                    headers['Authorization'] = `Bearer ${token}`;\r\n                }\r\n\r\n                const response = await fetch(`${BASE_URL}/ai/plan`, {\r\n                    method: 'POST',\r\n                    headers: headers,\r\n                    body: JSON.stringify(payload)\r\n                });\r\n\r\n                let data;\r\n                try {\r\n                    const responseText = await response.text();\r\n                    console.log(' Raw plan response:', responseText);\r\n                    data = responseText ? JSON.parse(responseText) : {};\r\n                } catch (parseError) {\r\n                    console.error('Parse error:', parseError);\r\n                    data = {};\r\n                }\r\n\r\n                console.log(' AI Plan response status:', response.status);\r\n                console.log(' AI Plan response data:', data);\r\n\r\n                if (data.error) {\r\n                    throw new Error(data.message || 'AI Plan Service Error');\r\n                }\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP error! status: ${response.status}`);\r\n                }\r\n\r\n                return data;\r\n            } catch (error) {\r\n                console.error(' Error connecting to AI Plan Service:', error);\r\n                throw error;\r\n            }\r\n        },\r\n\r\n        recommend: (context) => api.post('/ai/recommend', context)\r\n    },\r\n\r\n    // Dashboard endpoints\r\n    dashboard: {\r\n        getSummary: () => api.get('/dashboard/summary'),\r\n        getCharts: () => api.get('/dashboard/charts'),\r\n        getAlerts: () => api.get('/dashboard/alerts')\r\n    }\r\n};\r\n\r\nexport default API;\r\n","/**\r\n * OptiMine SPA - AI Tools Page Component\r\n * Chatbot interface integrated with n8n AI\r\n */\r\n\r\nimport { API } from '../../data/api.js';\r\nimport { LanguageManager } from '../../utils/LanguageManager.js';\r\nimport { App } from '../../app.js';\r\n\r\nconst template = () => {\r\n    const t = (key) => LanguageManager.t(key);\r\n\r\n    return `\r\n            <div class=\"min-h-screen bg-background\">\r\n                <!-- AI Tools Content -->\r\n                <div class=\"container mx-auto px-4 py-8\">\r\n                    <div class=\"max-w-4xl mx-auto\">\r\n                        <h1 class=\"text-3xl font-bold mb-2\">Asisten AI</h1>\r\n                        <p class=\"text-muted-foreground mb-8\">\r\n                            Ajukan pertanyaan tentang kondisi lapangan dan dapatkan rekomendasi AI\r\n                        </p>\r\n\r\n                        <!-- Chat Container -->\r\n                        <div class=\"bg-card border border-border rounded-xl overflow-hidden\">\r\n                            <!-- Chat Messages -->\r\n                            <div id=\"chat-messages\" class=\"h-[500px] overflow-y-auto p-6 space-y-4\">\r\n                                <!-- Welcome Message -->\r\n                                <div class=\"flex items-start gap-3\">\r\n                                    <div class=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\r\n                                        <svg class=\"w-6 h-6 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                        </svg>\r\n                                    </div>\r\n                                    <div class=\"flex-1\">\r\n                                        <div class=\"bg-secondary/50 border border-border rounded-2xl rounded-bl-sm p-4\">\r\n                                            <p class=\"text-sm\">Halo! Saya Asisten AI Operasi Tambang Anda. Bagaimana saya bisa membantu mengoptimalkan operasi Anda hari ini?</p>\r\n                                        </div>\r\n                                        <span class=\"text-xs text-muted-foreground mt-1 block\">${new Date().toLocaleTimeString('id-ID', { hour: 'numeric', minute: '2-digit' })}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- Typing Indicator (hidden by default) -->\r\n                            <div id=\"typing-indicator\" class=\"hidden px-6 pb-4\">\r\n                                <div class=\"flex items-center gap-2 text-muted-foreground text-sm\">\r\n                                    <div class=\"flex gap-1\">\r\n                                        <span class=\"w-2 h-2 bg-primary rounded-full animate-bounce\" style=\"animation-delay: 0s\"></span>\r\n                                        <span class=\"w-2 h-2 bg-primary rounded-full animate-bounce\" style=\"animation-delay: 0.2s\"></span>\r\n                                        <span class=\"w-2 h-2 bg-primary rounded-full animate-bounce\" style=\"animation-delay: 0.4s\"></span>\r\n                                    </div>\r\n                                    <span>AI sedang mengetik...</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- Input Area -->\r\n                            <div class=\"border-t border-border p-4 bg-background/50\">\r\n                                <form id=\"chat-form\" class=\"flex gap-2\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"chat-input\"\r\n                                        class=\"flex-1 px-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                                        placeholder=\"Tanyakan tentang dampak cuaca, optimasi armada, atau perencanaan produksi...\"\r\n                                        autocomplete=\"off\"\r\n                                    />\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        id=\"send-btn\"\r\n                                        class=\"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                        disabled\r\n                                    >\r\n                                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                                        </svg>\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Status Indicator -->\r\n                        <div class=\"mt-4 flex items-center justify-center gap-2 text-sm\">\r\n                            <span class=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\"></span>\r\n                            <span class=\"text-muted-foreground\">AI Online - Terhubung ke AI Service</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n};\r\n\r\nconst afterRender = () => {\r\n    console.log(' AI Tools Page - Initializing...');\r\n\r\n    const chatMessages = document.getElementById('chat-messages');\r\n    const chatForm = document.getElementById('chat-form');\r\n    const chatInput = document.getElementById('chat-input');\r\n    const sendBtn = document.getElementById('send-btn');\r\n    const typingIndicator = document.getElementById('typing-indicator');\r\n\r\n    // Enable/disable send button based on input\r\n    chatInput.addEventListener('input', () => {\r\n        sendBtn.disabled = !chatInput.value.trim();\r\n    });\r\n\r\n    // Handle form submit\r\n    chatForm.addEventListener('submit', async (e) => {\r\n        e.preventDefault();\r\n        const message = chatInput.value.trim();\r\n\r\n        if (!message) return;\r\n\r\n        // Add user message\r\n        addMessage(message, 'user');\r\n\r\n        // Clear input\r\n        chatInput.value = '';\r\n        sendBtn.disabled = true;\r\n\r\n        // Show typing indicator\r\n        typingIndicator.classList.remove('hidden');\r\n        scrollToBottom();\r\n\r\n        try {\r\n            // Send to n8n via API\r\n            const response = await API.ai.chat(message);\r\n\r\n            // Hide typing indicator\r\n            typingIndicator.classList.add('hidden');\r\n\r\n            // Add AI response\r\n            if (response.success && response.data.response) {\r\n                addMessage(response.data.response, 'ai');\r\n            } else {\r\n                addMessage('Maaf, terjadi kesalahan. Silakan coba lagi.', 'ai');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error sending message:', error);\r\n            typingIndicator.classList.add('hidden');\r\n            addMessage('Maaf, saya tidak dapat terhubung ke AI server. Silakan coba lagi nanti.', 'ai');\r\n        }\r\n    });\r\n\r\n    // Focus input\r\n    chatInput.focus();\r\n\r\n    // Helper functions\r\n    function addMessage(content, type) {\r\n        const timestamp = new Date().toLocaleTimeString('id-ID', { hour: 'numeric', minute: '2-digit' });\r\n        const messageEl = document.createElement('div');\r\n        messageEl.className = 'flex items-start gap-3 animate-fade-in';\r\n\r\n        if (type === 'ai') {\r\n            messageEl.innerHTML = `\r\n                    <div class=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0\">\r\n                        <svg class=\"w-6 h-6 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                        </svg>\r\n                    </div>\r\n                    <div class=\"flex-1\">\r\n                        <div class=\"bg-secondary/50 border border-border rounded-2xl rounded-bl-sm p-4\">\r\n                            <p class=\"text-sm whitespace-pre-wrap\">${escapeHtml(content)}</p>\r\n                        </div>\r\n                        <span class=\"text-xs text-muted-foreground mt-1 block\">${timestamp}</span>\r\n                    </div>\r\n                `;\r\n        } else {\r\n            messageEl.innerHTML = `\r\n                    <div class=\"flex-1\"></div>\r\n                    <div class=\"flex-shrink-0 max-w-[70%]\">\r\n                        <div class=\"bg-primary text-white rounded-2xl rounded-br-sm p-4\">\r\n                            <p class=\"text-sm whitespace-pre-wrap\">${escapeHtml(content)}</p>\r\n                        </div>\r\n                        <span class=\"text-xs text-muted-foreground mt-1 block text-right\">${timestamp}</span>\r\n                    </div>\r\n                    <div class=\"w-10 h-10 rounded-lg bg-primary flex items-center justify-center flex-shrink-0\">\r\n                        <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                        </svg>\r\n                    </div>\r\n                `;\r\n        }\r\n\r\n        chatMessages.appendChild(messageEl);\r\n        scrollToBottom();\r\n    }\r\n\r\n    function scrollToBottom() {\r\n        chatMessages.scrollTop = chatMessages.scrollHeight;\r\n    }\r\n\r\n    function escapeHtml(text) {\r\n        const div = document.createElement('div');\r\n        div.textContent = text;\r\n        return div.innerHTML;\r\n    }\r\n\r\n    console.log(' AI Tools Page - Ready!');\r\n};\r\n\r\nexport const aiToolsPage = async () => {\r\n    console.log(' AI Tools Page - Loading...');\r\n    await App.View.render(template(), 'ai-tools');\r\n    console.log(' AI Tools Page - Rendered, initializing...');\r\n    afterRender();\r\n};\r\n","/**\r\n * OptiMine SPA - Planning Page\r\n * Production Planning with AI-powered optimization\r\n */\r\n\r\nimport { App } from '../../app.js';\r\n\r\n// ========================================\r\n// API Configuration\r\n// ========================================\r\n// Detect if running locally or in production\r\nconst isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\r\nconst API_BASE_URL = isLocalhost ? 'http://localhost:5000' : 'http://139.59.224.58:5000';\r\nconst PLAN_API_URL = `${API_BASE_URL}/ai/plan`;\r\nconst SHIPPING_API_URL = `${API_BASE_URL}/shipping-schedules`;\r\n\r\n// ========================================\r\n// Planning Page State\r\n// ========================================\r\nconst PlanningState = {\r\n    rainfall_mm: 0.5,\r\n    wind_speed_kmh: 0.4,\r\n    activeVehicles: 25,\r\n    maintenanceStatus: 3,\r\n    totalFleet: 40,\r\n    vessels: [],\r\n    isLoading: false,\r\n    result: null\r\n};\r\n\r\n// ========================================\r\n// Loading Steps\r\n// ========================================\r\nconst loadingSteps = [\r\n    { icon: '', text: 'Mengirim data telemetri ke Server...', duration: 2000 },\r\n    { icon: '', text: 'Menganalisis dampak cuaca & gelombang...', duration: 2000 },\r\n    { icon: '', text: 'AI menyusun strategi optimal...', duration: null }\r\n];\r\n\r\n/**\r\n * Planning Page Handler\r\n */\r\nexport const planningPage = async (params) => {\r\n    const content = getPlanningTemplate();\r\n    await App.View.render(content, 'planning');\r\n\r\n    // Initialize after render\r\n    setTimeout(() => {\r\n        initPlanningPage();\r\n    }, 100);\r\n};\r\n\r\n/**\r\n * Get Planning Page Template\r\n */\r\nfunction getPlanningTemplate() {\r\n    return `\r\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            <!-- Page Header -->\r\n            <section id=\"page-header\" class=\"mb-8 animate-fade-in\">\r\n                <h1 class=\"font-heading text-3xl md:text-4xl font-bold text-foreground mb-2\">\r\n                    Perencanaan Produksi\r\n                </h1>\r\n                <p class=\"text-muted-foreground\">\r\n                    Masukkan kondisi operasional untuk menghasilkan rencana yang dioptimalkan\r\n                </p>\r\n            </section>\r\n\r\n            <!-- Main Grid Layout -->\r\n            <div class=\"grid lg:grid-cols-3 gap-6\">\r\n                <!-- Input Section (2/3 width) -->\r\n                <div class=\"lg:col-span-2 space-y-6\">\r\n                    <!-- Weather Conditions Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in\" style=\"animation-delay: 0.1s;\">\r\n                        <div class=\"flex items-center gap-3 mb-6\">\r\n                            <div class=\"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center\">\r\n                                <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <h2 class=\"font-heading font-semibold text-lg text-foreground\">Kondisi Cuaca</h2>\r\n                        </div>\r\n\r\n                        <!-- Rainfall Slider -->\r\n                        <div class=\"mb-6\">\r\n                            <div class=\"flex justify-between items-center mb-3\">\r\n                                <label class=\"block text-sm text-muted-foreground\">Curah Hujan</label>\r\n                                <span id=\"rainfall-value\" class=\"text-sm font-medium text-primary\">0.5 mm</span>\r\n                            </div>\r\n                            <div class=\"slider-container\">\r\n                                <input type=\"range\" id=\"rainfall-slider\" class=\"slider-primary w-full\" min=\"0\" max=\"50\" step=\"0.1\" value=\"0.5\">\r\n                                <div class=\"flex justify-between text-xs text-muted-foreground mt-2\">\r\n                                    <span>0 mm</span>\r\n                                    <span>50 mm</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Wind Speed Slider -->\r\n                        <div>\r\n                            <div class=\"flex justify-between items-center mb-3\">\r\n                                <label class=\"block text-sm text-muted-foreground\">Kecepatan Angin</label>\r\n                                <span id=\"wind-value\" class=\"text-sm font-medium text-primary\">0.4 km/h</span>\r\n                            </div>\r\n                            <div class=\"slider-container\">\r\n                                <input type=\"range\" id=\"wave-slider\" class=\"slider-primary w-full\" min=\"0\" max=\"10\" step=\"0.1\" value=\"0.4\">\r\n                                <div class=\"flex justify-between text-xs text-muted-foreground mt-2\">\r\n                                    <span>0 km/h</span>\r\n                                    <span>10 km/h</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Fleet Status Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in\" style=\"animation-delay: 0.2s;\">\r\n                        <div class=\"flex items-center gap-3 mb-6\">\r\n                            <div class=\"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center\">\r\n                                <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                                </svg>\r\n                            </div>\r\n                            <h2 class=\"font-heading font-semibold text-lg text-foreground\">Status Armada</h2>\r\n                        </div>\r\n\r\n                        <div class=\"grid sm:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label class=\"block text-sm text-muted-foreground mb-2\">Kendaraan Aktif</label>\r\n                                <input type=\"number\" id=\"active-vehicles\" class=\"w-full px-4 py-3 bg-secondary/50 border border-border rounded-lg text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors\" value=\"25\" min=\"0\">\r\n                            </div>\r\n                            <div>\r\n                                <label class=\"block text-sm text-muted-foreground mb-2\">Status Perawatan</label>\r\n                                <input type=\"number\" id=\"maintenance-status\" class=\"w-full px-4 py-3 bg-secondary/50 border border-border rounded-lg text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors\" value=\"3\" min=\"0\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Ship Schedule Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in\" style=\"animation-delay: 0.3s;\">\r\n                        <div class=\"flex items-center gap-3 mb-6\">\r\n                            <div class=\"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center\">\r\n                                <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n                                </svg>\r\n                            </div>\r\n                            <h2 class=\"font-heading font-semibold text-lg text-foreground\">Jadwal Kapal</h2>\r\n                        </div>\r\n\r\n                        <div id=\"vessels-container\" class=\"space-y-3\">\r\n                            <div class=\"flex items-center justify-center p-4 text-muted-foreground text-sm\">\r\n                                <svg class=\"w-5 h-5 animate-spin mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                </svg>\r\n                                Memuat jadwal kapal...\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Generate Button -->\r\n                    <button id=\"generate-btn\" class=\"w-full h-14 bg-primary hover:bg-primary/90 text-white font-medium rounded-xl flex items-center justify-center gap-2 glow-hover transition-all duration-300 animate-fade-in\" style=\"animation-delay: 0.4s;\">\r\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\r\n                        </svg>\r\n                        <span>Hasilkan Rencana Optimal</span>\r\n                    </button>\r\n\r\n                    <!-- Loading Container (Hidden by default) -->\r\n                    <div id=\"loading-container\" class=\"hidden w-full\">\r\n                        <div class=\"glass border border-border rounded-xl p-8 animate-fade-in\">\r\n                            <div class=\"flex flex-col items-center justify-center gap-4\">\r\n                                <div class=\"relative\">\r\n                                    <div class=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center\">\r\n                                        <span id=\"loading-icon\" class=\"text-3xl\"></span>\r\n                                    </div>\r\n                                    <div class=\"absolute inset-0 w-16 h-16 rounded-full border-4 border-primary/30 border-t-primary animate-spin\"></div>\r\n                                </div>\r\n                                <p id=\"loading-text\" class=\"text-lg font-medium text-foreground text-center\">\r\n                                    Mengirim data telemetri ke Server...\r\n                                </p>\r\n                                <div class=\"flex gap-2 mt-2\">\r\n                                    <div class=\"w-2 h-2 rounded-full bg-primary animate-pulse\" style=\"animation-delay: 0ms;\"></div>\r\n                                    <div class=\"w-2 h-2 rounded-full bg-primary animate-pulse\" style=\"animation-delay: 200ms;\"></div>\r\n                                    <div class=\"w-2 h-2 rounded-full bg-primary animate-pulse\" style=\"animation-delay: 400ms;\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Result Dashboard (Hidden by default) -->\r\n                    <div id=\"result-dashboard\" class=\"hidden w-full space-y-6 animate-fade-in\">\r\n                        <div class=\"flex items-center justify-between flex-wrap gap-4\">\r\n                            <div class=\"flex items-center gap-3\">\r\n                                <div class=\"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-cyan-500 flex items-center justify-center\">\r\n                                    <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div>\r\n                                    <h2 class=\"font-heading font-bold text-xl text-foreground\">Rencana Optimasi Operasional</h2>\r\n                                    <p id=\"result-timestamp\" class=\"text-sm text-muted-foreground\"></p>\r\n                                </div>\r\n                            </div>\r\n                            <button id=\"new-plan-btn\" class=\"px-4 py-2 text-sm font-medium text-primary hover:bg-primary/10 rounded-lg transition-colors flex items-center gap-2\">\r\n                                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                                </svg>\r\n                                Buat Rencana Baru\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"grid sm:grid-cols-3 gap-4\" id=\"metrics-grid\"></div>\r\n                        <div id=\"recommendations-container\" class=\"space-y-4\"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Status Panel (1/3 width) -->\r\n                <div class=\"space-y-6\">\r\n                    <!-- System Status Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 border-glow animate-fade-in\" style=\"animation-delay: 0.2s;\">\r\n                        <div class=\"flex items-center gap-3 mb-6\">\r\n                            <div class=\"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center\">\r\n                                <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <h2 class=\"font-heading font-semibold text-lg text-foreground\">Status Sistem</h2>\r\n                        </div>\r\n\r\n                        <div class=\"space-y-3\">\r\n                            <div class=\"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20\">\r\n                                <div class=\"flex items-center gap-3\">\r\n                                    <span class=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"></span>\r\n                                    <span class=\"text-sm text-emerald-400 font-medium\">Sistem AI Online</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"p-3 rounded-lg bg-primary/10 border border-primary/20\">\r\n                                <div class=\"flex items-center gap-3\">\r\n                                    <span class=\"w-2 h-2 rounded-full bg-primary\"></span>\r\n                                    <span class=\"text-sm text-primary font-medium\">Integrasi RAG Siap</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Active Alerts Card -->\r\n                    <div class=\"glass border border-border rounded-xl p-6 animate-fade-in\" style=\"animation-delay: 0.3s;\">\r\n                        <div class=\"flex items-center gap-3 mb-6\">\r\n                            <div class=\"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center\">\r\n                                <svg class=\"w-5 h-5 text-yellow-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <h2 class=\"font-heading font-semibold text-lg text-foreground\">Peringatan Aktif</h2>\r\n                        </div>\r\n\r\n                        <div class=\"space-y-3\">\r\n                            <div class=\"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20\">\r\n                                <span class=\"text-sm text-yellow-400\">Curah hujan tinggi diperkirakan di Lokasi Tambang B</span>\r\n                            </div>\r\n                            <div class=\"p-3 rounded-lg bg-orange-500/10 border border-orange-500/20\">\r\n                                <span class=\"text-sm text-orange-400\">2 kendaraan dijadwalkan untuk perawatan</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `;\r\n}\r\n\r\n/**\r\n * Initialize Planning Page\r\n */\r\nfunction initPlanningPage() {\r\n    setupSliders();\r\n    setupInputs();\r\n    setupGenerateButton();\r\n    loadVessels();\r\n}\r\n\r\n/**\r\n * Setup Sliders\r\n */\r\nfunction setupSliders() {\r\n    const rainfallSlider = document.getElementById('rainfall-slider');\r\n    const waveSlider = document.getElementById('wave-slider');\r\n\r\n    if (rainfallSlider) {\r\n        rainfallSlider.addEventListener('input', (e) => {\r\n            PlanningState.rainfall_mm = parseFloat(e.target.value);\r\n            updateSliderValueDisplays();\r\n        });\r\n    }\r\n\r\n    if (waveSlider) {\r\n        waveSlider.addEventListener('input', (e) => {\r\n            PlanningState.wind_speed_kmh = parseFloat(e.target.value);\r\n            updateSliderValueDisplays();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Update Slider Value Displays\r\n */\r\nfunction updateSliderValueDisplays() {\r\n    const rainfallValue = document.getElementById('rainfall-value');\r\n    const windValue = document.getElementById('wind-value');\r\n\r\n    if (rainfallValue) {\r\n        rainfallValue.textContent = `${PlanningState.rainfall_mm.toFixed(1)} mm`;\r\n    }\r\n    if (windValue) {\r\n        windValue.textContent = `${PlanningState.wind_speed_kmh.toFixed(1)} km/h`;\r\n    }\r\n}\r\n\r\n/**\r\n * Setup Inputs\r\n */\r\nfunction setupInputs() {\r\n    const activeVehiclesInput = document.getElementById('active-vehicles');\r\n    const maintenanceInput = document.getElementById('maintenance-status');\r\n\r\n    if (activeVehiclesInput) {\r\n        activeVehiclesInput.addEventListener('change', (e) => {\r\n            PlanningState.activeVehicles = parseInt(e.target.value) || 0;\r\n        });\r\n    }\r\n\r\n    if (maintenanceInput) {\r\n        maintenanceInput.addEventListener('change', (e) => {\r\n            PlanningState.maintenanceStatus = parseInt(e.target.value) || 0;\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Setup Generate Button\r\n */\r\nfunction setupGenerateButton() {\r\n    const generateBtn = document.getElementById('generate-btn');\r\n    const newPlanBtn = document.getElementById('new-plan-btn');\r\n\r\n    if (generateBtn) {\r\n        generateBtn.addEventListener('click', () => generateOptimizationPlan());\r\n    }\r\n\r\n    if (newPlanBtn) {\r\n        newPlanBtn.addEventListener('click', () => resetToInput());\r\n    }\r\n}\r\n\r\n/**\r\n * Load Vessels from API\r\n */\r\nasync function loadVessels() {\r\n    const container = document.getElementById('vessels-container');\r\n    if (!container) return;\r\n\r\n    try {\r\n        const token = localStorage.getItem('optimine-token');\r\n        const headers = { 'Content-Type': 'application/json' };\r\n        if (token) headers['Authorization'] = `Bearer ${token}`;\r\n\r\n        const response = await fetch(`${SHIPPING_API_URL}?limit=5`, { headers });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n        const schedules = result.data || [];\r\n\r\n        if (schedules.length === 0) {\r\n            renderDefaultVessels(container);\r\n            return;\r\n        }\r\n\r\n        PlanningState.vessels = schedules.map(s => ({\r\n            id: s.shipment_id,\r\n            name: s.vessel_name,\r\n            etd: s.etd,\r\n            status: s.status,\r\n            destination: s.destination_port,\r\n            tonnage: s.coal_tonnage\r\n        }));\r\n\r\n        renderVessels(container, schedules);\r\n\r\n    } catch (error) {\r\n        console.warn('Failed to load vessels, using defaults:', error.message);\r\n        renderDefaultVessels(container);\r\n    }\r\n}\r\n\r\n/**\r\n * Render Vessels\r\n */\r\nfunction renderVessels(container, schedules) {\r\n    container.innerHTML = schedules.map(s => {\r\n        const etdDate = s.etd ? new Date(s.etd) : null;\r\n        const timeStr = etdDate ? etdDate.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }) : '-';\r\n        const statusClass = s.status?.toLowerCase() === 'scheduled' || s.status?.toLowerCase() === 'loading'\r\n            ? 'bg-primary/20 text-primary'\r\n            : 'bg-emerald-500/20 text-emerald-400';\r\n        const statusText = s.status || 'Scheduled';\r\n\r\n        return `\r\n            <div class=\"flex items-center justify-between p-3 bg-secondary/30 rounded-lg border border-border\">\r\n                <div class=\"flex-1\">\r\n                    <span class=\"text-sm font-medium text-foreground\">${s.vessel_name || 'Unknown Vessel'}</span>\r\n                    <span class=\"text-xs text-muted-foreground ml-2\">ETD: ${timeStr}</span>\r\n                </div>\r\n                <div class=\"flex items-center gap-2\">\r\n                    <span class=\"text-xs text-muted-foreground\">${s.coal_tonnage?.toLocaleString() || '-'} ton</span>\r\n                    <span class=\"px-2 py-1 text-xs font-medium ${statusClass} rounded\">${statusText}</span>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }).join('');\r\n}\r\n\r\n/**\r\n * Render Default Vessels\r\n */\r\nfunction renderDefaultVessels(container) {\r\n    PlanningState.vessels = [\r\n        { id: 'A', name: 'MV Samudera Jaya', time: '08:00', status: 'Scheduled' },\r\n        { id: 'B', name: 'MV Nusantara', time: '14:00', status: 'Loading' },\r\n        { id: 'C', name: 'MV Bahari Indah', time: '20:00', status: 'Scheduled' }\r\n    ];\r\n\r\n    container.innerHTML = PlanningState.vessels.map(v => `\r\n        <div class=\"flex items-center justify-between p-3 bg-secondary/30 rounded-lg border border-border\">\r\n            <span class=\"text-sm text-foreground\">${v.name} - ${v.time}</span>\r\n            <span class=\"px-2 py-1 text-xs font-medium bg-primary/20 text-primary rounded\">${v.status}</span>\r\n        </div>\r\n    `).join('');\r\n}\r\n\r\n/**\r\n * Generate Optimization Plan\r\n */\r\nasync function generateOptimizationPlan() {\r\n    if (PlanningState.isLoading) return;\r\n\r\n    const generateBtn = document.getElementById('generate-btn');\r\n    const loadingContainer = document.getElementById('loading-container');\r\n    const resultDashboard = document.getElementById('result-dashboard');\r\n\r\n    if (generateBtn) generateBtn.classList.add('hidden');\r\n    if (resultDashboard) resultDashboard.classList.add('hidden');\r\n    if (loadingContainer) loadingContainer.classList.remove('hidden');\r\n\r\n    PlanningState.isLoading = true;\r\n\r\n    const loadingPromise = runLoadingAnimation();\r\n\r\n    try {\r\n        const payload = buildPayload();\r\n        console.log(' Sending payload to AI Plan:', payload);\r\n\r\n        const response = await fetch(PLAN_API_URL, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n        console.log(' AI Plan response:', result);\r\n\r\n        PlanningState.result = result;\r\n        await loadingPromise;\r\n        renderResultDashboard(result);\r\n\r\n        App.View.showToast('Rencana optimasi berhasil dibuat!', 'success');\r\n\r\n    } catch (error) {\r\n        console.error(' Error generating plan:', error);\r\n        console.log(' Menggunakan Demo Mode karena API belum tersedia...');\r\n\r\n        await loadingPromise;\r\n\r\n        const demoResult = generateDemoResult();\r\n        PlanningState.result = demoResult;\r\n        renderResultDashboard(demoResult);\r\n\r\n        App.View.showToast('Demo Mode: Menampilkan contoh hasil', 'info');\r\n    } finally {\r\n        PlanningState.isLoading = false;\r\n    }\r\n}\r\n\r\n/**\r\n * Build Payload for API\r\n */\r\nfunction buildPayload() {\r\n    const weather_input = {\r\n        rainfall_mm: PlanningState.rainfall_mm,\r\n        wind_speed_kmh: PlanningState.wind_speed_kmh,\r\n        temperature_c: 30,\r\n        humidity_pct: 80\r\n    };\r\n\r\n    let weather_condition = 'Mendung';\r\n    if (PlanningState.rainfall_mm >= 1.0) {\r\n        weather_condition = 'Hujan ringan';\r\n    } else if (PlanningState.rainfall_mm < 0.1) {\r\n        weather_condition = 'Berawan';\r\n    }\r\n\r\n    const availability_pct = (PlanningState.activeVehicles / PlanningState.totalFleet) * 100;\r\n\r\n    let road_condition = 'Good';\r\n    if (PlanningState.rainfall_mm >= 1.0) {\r\n        road_condition = 'Poor';\r\n    } else if (PlanningState.rainfall_mm >= 0.3) {\r\n        road_condition = 'Fair';\r\n    }\r\n\r\n    const capacity_input = {\r\n        availability_pct: parseFloat(availability_pct.toFixed(2)),\r\n        road_condition: road_condition,\r\n        weather_condition: weather_condition,\r\n        mine_id: \"MINE_1\",\r\n        equipment_type: \"Excavator\"\r\n    };\r\n\r\n    const production_input = {\r\n        planned_output_ton: 5000\r\n    };\r\n\r\n    const vesselInfo = PlanningState.vessels\r\n        .map(v => v.name ? `${v.name} (${v.status})` : `Vessel ${v.id} - ${v.time} (${v.status})`)\r\n        .join(', ');\r\n\r\n    const additional_context =\r\n        `Status cuaca: ${weather_condition}, curah hujan ${PlanningState.rainfall_mm.toFixed(1)}mm, angin ${PlanningState.wind_speed_kmh.toFixed(1)}km/h. ` +\r\n        `Armada: ${PlanningState.activeVehicles} aktif dari ${PlanningState.totalFleet} total, ${PlanningState.maintenanceStatus} dalam perawatan. ` +\r\n        `Kondisi jalan: ${road_condition}. ` +\r\n        `Jadwal kapal: ${vesselInfo || 'Tidak ada data'}.`;\r\n\r\n    return {\r\n        weather_input,\r\n        capacity_input,\r\n        production_input,\r\n        additional_context\r\n    };\r\n}\r\n\r\n/**\r\n * Run Loading Animation\r\n */\r\nasync function runLoadingAnimation() {\r\n    const loadingIcon = document.getElementById('loading-icon');\r\n    const loadingText = document.getElementById('loading-text');\r\n\r\n    for (let i = 0; i < loadingSteps.length - 1; i++) {\r\n        const step = loadingSteps[i];\r\n        if (loadingIcon) loadingIcon.textContent = step.icon;\r\n        if (loadingText) loadingText.textContent = step.text;\r\n        await sleep(step.duration);\r\n    }\r\n\r\n    const finalStep = loadingSteps[loadingSteps.length - 1];\r\n    if (loadingIcon) loadingIcon.textContent = finalStep.icon;\r\n    if (loadingText) loadingText.textContent = finalStep.text;\r\n}\r\n\r\n/**\r\n * Sleep utility\r\n */\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n/**\r\n * Generate Demo Result\r\n */\r\nfunction generateDemoResult() {\r\n    const weatherClass = getWeatherClassFromRainfall(PlanningState.rainfall_mm);\r\n    const capacity = Math.round((PlanningState.activeVehicles / PlanningState.totalFleet) * 5000);\r\n\r\n    return {\r\n        success: true,\r\n        data: {\r\n            ml_predictions: {\r\n                weather_classification: weatherClass,\r\n                effective_capacity_ton_per_day: capacity,\r\n                confidence_score: 0.87,\r\n                production_forecast: capacity * 0.9\r\n            },\r\n            narrative_recommendation: `\r\n**Strategi Utama:**\r\nBerdasarkan analisis kondisi cuaca ${weatherClass} dengan curah hujan ${PlanningState.rainfall_mm.toFixed(1)}mm, disarankan untuk mengoptimalkan jadwal operasional pada shift pagi ketika kondisi jalan masih optimal.\r\n\r\n**Risiko Terdeteksi:**\r\n- Curah hujan ${PlanningState.rainfall_mm >= 1.0 ? 'tinggi dapat menurunkan kapasitas hauling sebesar 15-20%' : 'rendah, kondisi operasional normal'}\r\n- ${PlanningState.maintenanceStatus} unit kendaraan dalam perawatan perlu diprioritaskan untuk kembali beroperasi\r\n- Kecepatan angin ${PlanningState.wind_speed_kmh.toFixed(1)} km/h ${PlanningState.wind_speed_kmh > 5 ? 'perlu monitoring untuk keamanan operasi crane' : 'dalam batas aman'}\r\n\r\n**Tindakan Prioritas:**\r\n1. Fokuskan operasi pada ${PlanningState.activeVehicles} unit kendaraan aktif\r\n2. Koordinasi dengan jadwal kapal untuk optimasi loading\r\n3. Monitor kondisi jalan secara berkala terutama area ramp\r\n4. Siapkan contingency plan jika cuaca memburuk\r\n            `.trim()\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Get Weather Class from Rainfall\r\n */\r\nfunction getWeatherClassFromRainfall(rainfall) {\r\n    if (rainfall >= 1.0) return 'Hujan ringan';\r\n    if (rainfall >= 0.3) return 'Mendung';\r\n    return 'Berawan';\r\n}\r\n\r\n/**\r\n * Get Weather Icon\r\n */\r\nfunction getWeatherIcon(weatherClass) {\r\n    const lower = weatherClass.toLowerCase();\r\n    if (lower.includes('hujan')) return '';\r\n    if (lower.includes('mendung')) return '';\r\n    return '';\r\n}\r\n\r\n/**\r\n * Render Result Dashboard\r\n */\r\nfunction renderResultDashboard(result) {\r\n    const loadingContainer = document.getElementById('loading-container');\r\n    const resultDashboard = document.getElementById('result-dashboard');\r\n    const generateBtn = document.getElementById('generate-btn');\r\n\r\n    if (loadingContainer) loadingContainer.classList.add('hidden');\r\n    if (generateBtn) generateBtn.classList.add('hidden');\r\n    if (resultDashboard) resultDashboard.classList.remove('hidden');\r\n\r\n    const timestamp = document.getElementById('result-timestamp');\r\n    if (timestamp) {\r\n        const now = new Date();\r\n        timestamp.textContent = `Dibuat pada ${now.toLocaleString('id-ID', {\r\n            day: 'numeric', month: 'long', year: 'numeric',\r\n            hour: '2-digit', minute: '2-digit'\r\n        })}`;\r\n    }\r\n\r\n    renderMetrics(result.data || result);\r\n    renderRecommendations(result.data || result);\r\n}\r\n\r\n/**\r\n * Render Metrics\r\n */\r\nfunction renderMetrics(data) {\r\n    const metricsGrid = document.getElementById('metrics-grid');\r\n    if (!metricsGrid) return;\r\n\r\n    const predictions = data.ml_predictions || {};\r\n\r\n    const weatherClass = predictions.weather_classification ||\r\n        getWeatherClassFromRainfall(PlanningState.rainfall_mm);\r\n    const weatherIcon = getWeatherIcon(weatherClass);\r\n\r\n    const capacity = predictions.effective_capacity_ton_per_day ||\r\n        predictions.capacity_forecast ||\r\n        (PlanningState.activeVehicles * 50);\r\n\r\n    const confidence = predictions.confidence_score ||\r\n        predictions.model_confidence || 0.85;\r\n\r\n    metricsGrid.innerHTML = `\r\n        <div class=\"glass border border-border rounded-xl p-5 transition-all hover:border-primary/50\">\r\n            <div class=\"flex items-center gap-3 mb-3\">\r\n                <span class=\"text-3xl\">${weatherIcon}</span>\r\n                <span class=\"text-sm text-muted-foreground\">Kondisi Cuaca</span>\r\n            </div>\r\n            <p class=\"text-xl font-bold text-foreground\">${weatherClass}</p>\r\n            <p class=\"text-xs text-muted-foreground mt-1\">\r\n                ${PlanningState.rainfall_mm.toFixed(1)}mm curah hujan, ${PlanningState.wind_speed_kmh.toFixed(1)}km/h angin\r\n            </p>\r\n        </div>\r\n        \r\n        <div class=\"glass border border-border rounded-xl p-5 transition-all hover:border-primary/50\">\r\n            <div class=\"flex items-center gap-3 mb-3\">\r\n                <span class=\"text-3xl\"></span>\r\n                <span class=\"text-sm text-muted-foreground\">Kapasitas Efektif</span>\r\n            </div>\r\n            <p class=\"text-xl font-bold text-foreground\">${Math.round(capacity).toLocaleString('id-ID')}</p>\r\n            <p class=\"text-xs text-muted-foreground mt-1\">Ton/Hari</p>\r\n        </div>\r\n        \r\n        <div class=\"glass border border-border rounded-xl p-5 transition-all hover:border-primary/50\">\r\n            <div class=\"flex items-center gap-3 mb-3\">\r\n                <span class=\"text-3xl\"></span>\r\n                <span class=\"text-sm text-muted-foreground\">Confidence Score</span>\r\n            </div>\r\n            <p class=\"text-xl font-bold text-foreground\">${(confidence * 100).toFixed(1)}%</p>\r\n            <div class=\"w-full h-2 bg-secondary rounded-full mt-2 overflow-hidden\">\r\n                <div class=\"h-full bg-gradient-to-r from-primary to-cyan-500 rounded-full\" \r\n                     style=\"width: ${confidence * 100}%\"></div>\r\n            </div>\r\n        </div>\r\n    `;\r\n}\r\n\r\n/**\r\n * Render Recommendations\r\n */\r\nfunction renderRecommendations(data) {\r\n    const container = document.getElementById('recommendations-container');\r\n    if (!container) return;\r\n\r\n    const narrative = data.narrative_recommendation ||\r\n        data.recommendation ||\r\n        data.response ||\r\n        'Tidak ada rekomendasi tersedia.';\r\n\r\n    const sections = parseNarrativeToSections(narrative);\r\n\r\n    let html = '';\r\n\r\n    if (sections.strategy) {\r\n        html += createRecommendationCard('', 'Strategi Utama', sections.strategy, 'from-primary/20 to-cyan-500/20');\r\n    }\r\n    if (sections.risks) {\r\n        html += createRecommendationCard('', 'Risiko Terdeteksi', sections.risks, 'from-yellow-500/20 to-orange-500/20');\r\n    }\r\n    if (sections.actions) {\r\n        html += createRecommendationCard('', 'Tindakan Prioritas', sections.actions, 'from-emerald-500/20 to-green-500/20');\r\n    }\r\n\r\n    if (!sections.strategy && !sections.risks && !sections.actions) {\r\n        html = createRecommendationCard('', 'Rekomendasi AI', narrative, 'from-primary/20 to-blue-500/20');\r\n    }\r\n\r\n    container.innerHTML = html;\r\n}\r\n\r\n/**\r\n * Parse Narrative to Sections\r\n */\r\nfunction parseNarrativeToSections(narrative) {\r\n    const sections = { strategy: '', risks: '', actions: '' };\r\n\r\n    const strategyMatch = narrative.match(/\\*\\*Strategi Utama:\\*\\*\\s*([\\s\\S]*?)(?=\\*\\*Risiko|\\*\\*Tindakan|$)/i);\r\n    const risksMatch = narrative.match(/\\*\\*Risiko Terdeteksi:\\*\\*\\s*([\\s\\S]*?)(?=\\*\\*Strategi|\\*\\*Tindakan|$)/i);\r\n    const actionsMatch = narrative.match(/\\*\\*Tindakan Prioritas:\\*\\*\\s*([\\s\\S]*?)(?=\\*\\*Strategi|\\*\\*Risiko|$)/i);\r\n\r\n    if (strategyMatch && strategyMatch[1]) {\r\n        sections.strategy = strategyMatch[1].trim();\r\n    }\r\n    if (risksMatch && risksMatch[1]) {\r\n        sections.risks = risksMatch[1].trim();\r\n    }\r\n    if (actionsMatch && actionsMatch[1]) {\r\n        sections.actions = actionsMatch[1].trim();\r\n    }\r\n\r\n    if (!sections.strategy && !sections.risks && !sections.actions) {\r\n        const paragraphs = narrative.split(/\\n\\n/).filter(p => p.trim());\r\n        if (paragraphs.length >= 1) sections.strategy = paragraphs[0];\r\n        if (paragraphs.length >= 2) sections.risks = paragraphs[1];\r\n        if (paragraphs.length >= 3) sections.actions = paragraphs.slice(2).join('\\n');\r\n    }\r\n\r\n    return sections;\r\n}\r\n\r\n/**\r\n * Create Recommendation Card\r\n */\r\nfunction createRecommendationCard(icon, title, content, gradient) {\r\n    let cleanContent = content\r\n        .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\r\n        .replace(/\\*([^*]+)\\*/g, '$1')\r\n        .replace(/^#{1,6}\\s+/gm, '')\r\n        .replace(/^(Strategi Utama|Risiko Terdeteksi|Tindakan Prioritas):\\s*/gi, '')\r\n        .trim();\r\n\r\n    let formattedContent = cleanContent;\r\n\r\n    if (cleanContent.includes('\\n') || cleanContent.includes('') || cleanContent.includes('-')) {\r\n        const lines = cleanContent.split(/[\\n-]/)\r\n            .map(line => line.trim())\r\n            .filter(line => line.length > 0);\r\n\r\n        if (lines.length > 1) {\r\n            formattedContent = '<ul class=\"list-disc list-inside space-y-2\">' +\r\n                lines.map(line => `<li class=\"text-muted-foreground\">${line}</li>`).join('') +\r\n                '</ul>';\r\n        } else {\r\n            formattedContent = `<p class=\"text-muted-foreground\">${cleanContent}</p>`;\r\n        }\r\n    } else {\r\n        formattedContent = `<p class=\"text-muted-foreground\">${cleanContent}</p>`;\r\n    }\r\n\r\n    return `\r\n        <div class=\"glass border border-border rounded-xl overflow-hidden\">\r\n            <div class=\"bg-gradient-to-r ${gradient} px-5 py-4 border-b border-border/50\">\r\n                <div class=\"flex items-center gap-3\">\r\n                    <span class=\"text-2xl\">${icon}</span>\r\n                    <h3 class=\"font-heading font-semibold text-lg text-foreground\">${title}</h3>\r\n                </div>\r\n            </div>\r\n            <div class=\"p-5\">${formattedContent}</div>\r\n        </div>\r\n    `;\r\n}\r\n\r\n/**\r\n * Reset to Input Mode\r\n */\r\nfunction resetToInput() {\r\n    const generateBtn = document.getElementById('generate-btn');\r\n    const loadingContainer = document.getElementById('loading-container');\r\n    const resultDashboard = document.getElementById('result-dashboard');\r\n\r\n    if (generateBtn) generateBtn.classList.remove('hidden');\r\n    if (loadingContainer) loadingContainer.classList.add('hidden');\r\n    if (resultDashboard) resultDashboard.classList.add('hidden');\r\n\r\n    PlanningState.result = null;\r\n}\r\n","/**\r\n * OptiMine SPA - Router\r\n * Hash-based routing for SPA navigation\r\n */\r\n\r\nimport { Config } from '../../config.js';\r\nimport { EventBus } from '../utils/index.js';\r\nimport { homePage } from '../pages/home/home-page.js';\r\nimport { aboutPage } from '../pages/about/about-page.js';\r\nimport { aiToolsPage } from '../pages/ai-tools/ai-tools-page.js';\r\nimport { planningPage } from '../pages/planning/planning-page.js';\r\n\r\n// Routes registry\r\nconst routes = {};\r\n\r\n// Current route state\r\nlet currentRoute = null;\r\n\r\n/**\r\n * Router module\r\n */\r\nexport const Router = {\r\n    /**\r\n     * Initialize router\r\n     */\r\n    init() {\r\n        // Register default routes\r\n        this.register('home', homePage);\r\n        this.register('planning', planningPage);\r\n        this.register('ai-tools', aiToolsPage);\r\n        this.register('dashboard', aboutPage);\r\n        this.register('auth', aboutPage);\r\n        this.register('profile', aboutPage);\r\n\r\n        // Listen for hash changes\r\n        window.addEventListener('hashchange', () => this.handleRouteChange());\r\n\r\n        // Handle initial route\r\n        this.handleRouteChange();\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Register a route\r\n     * @param {string} path - Route path\r\n     * @param {Function} handler - Route handler function\r\n     */\r\n    register(path, handler) {\r\n        routes[path] = handler;\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Navigate to a route\r\n     * @param {string} path - Route path\r\n     */\r\n    navigate(path) {\r\n        window.location.hash = path;\r\n    },\r\n\r\n    /**\r\n     * Handle route change\r\n     */\r\n    async handleRouteChange() {\r\n        const hash = window.location.hash.slice(1) || Config.routes.default;\r\n        const [routePath, queryString] = hash.split('?');\r\n\r\n        // Check if route is protected\r\n        if (Config.routes.protected.includes(routePath)) {\r\n            const isLoggedIn = localStorage.getItem(Config.storage.isLoggedIn) === 'true';\r\n            if (!isLoggedIn) {\r\n                this.navigate('auth');\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Get route handler\r\n        const handler = routes[routePath];\r\n\r\n        if (handler) {\r\n            currentRoute = routePath;\r\n\r\n            // Parse query params\r\n            const params = this.parseQuery(queryString);\r\n\r\n            // Execute handler\r\n            await handler(params);\r\n\r\n            // Update active nav\r\n            this.updateActiveNav(routePath);\r\n        } else {\r\n            // 404 - redirect to home\r\n            this.navigate(Config.routes.default);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Parse query string\r\n     * @param {string} queryString \r\n     * @returns {Object}\r\n     */\r\n    parseQuery(queryString) {\r\n        if (!queryString) return {};\r\n\r\n        const params = {};\r\n        const pairs = queryString.split('&');\r\n\r\n        pairs.forEach(pair => {\r\n            const [key, value] = pair.split('=');\r\n            params[decodeURIComponent(key)] = decodeURIComponent(value || '');\r\n        });\r\n\r\n        return params;\r\n    },\r\n\r\n    /**\r\n     * Update active navigation link\r\n     * @param {string} route \r\n     */\r\n    updateActiveNav(route) {\r\n        // Desktop nav\r\n        document.querySelectorAll('.spa-nav-link').forEach(link => {\r\n            const linkRoute = link.getAttribute('href')?.replace('#', '');\r\n            link.classList.toggle('active', linkRoute === route);\r\n        });\r\n\r\n        // Mobile nav\r\n        document.querySelectorAll('.spa-mobile-nav-link').forEach(link => {\r\n            const linkRoute = link.getAttribute('href')?.replace('#', '');\r\n            link.classList.toggle('active', linkRoute === route);\r\n        });\r\n\r\n        // Close mobile menu\r\n        const mobileMenu = document.getElementById('mobile-menu');\r\n        mobileMenu?.classList.add('hidden');\r\n\r\n        // Emit event\r\n        EventBus.emit('routeChanged', route);\r\n    },\r\n\r\n    /**\r\n     * Get current route\r\n     * @returns {string}\r\n     */\r\n    getCurrentRoute() {\r\n        return currentRoute;\r\n    }\r\n};\r\n","/**\r\n * OptiMine SPA - Main Application\r\n * MVP Architecture: Presenter Layer\r\n */\r\n\r\nimport { Config } from '../config.js';\r\nimport { Router } from './routes/routes.js';\r\nimport { EventBus } from './utils/index.js';\r\n\r\n// ============================================\r\n// MODEL - State Management\r\n// ============================================\r\nconst Model = {\r\n    state: {\r\n        user: null,\r\n        isAuthenticated: false,\r\n        theme: Config.defaults.theme,\r\n        language: Config.defaults.language,\r\n        currentRoute: null,\r\n        isLoading: false\r\n    },\r\n\r\n    init() {\r\n        // Load persisted state\r\n        this.state.theme = localStorage.getItem(Config.storage.theme) || Config.defaults.theme;\r\n        this.state.language = localStorage.getItem(Config.storage.language) || Config.defaults.language;\r\n        this.state.isAuthenticated = localStorage.getItem(Config.storage.isLoggedIn) === 'true';\r\n\r\n        const savedUser = localStorage.getItem(Config.storage.user);\r\n        if (savedUser) {\r\n            try {\r\n                this.state.user = JSON.parse(savedUser);\r\n            } catch (e) {\r\n                this.state.user = null;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    getState(key) {\r\n        return key ? this.state[key] : this.state;\r\n    },\r\n\r\n    setState(key, value) {\r\n        this.state[key] = value;\r\n        EventBus.emit('stateChanged', { key, value });\r\n        return this;\r\n    },\r\n\r\n    // Auth methods\r\n    login(user) {\r\n        this.state.user = user;\r\n        this.state.isAuthenticated = true;\r\n        localStorage.setItem(Config.storage.user, JSON.stringify(user));\r\n        localStorage.setItem(Config.storage.isLoggedIn, 'true');\r\n        EventBus.emit('authChanged', { isAuthenticated: true, user });\r\n        return this;\r\n    },\r\n\r\n    logout() {\r\n        this.state.user = null;\r\n        this.state.isAuthenticated = false;\r\n        localStorage.removeItem(Config.storage.user);\r\n        localStorage.removeItem(Config.storage.token);\r\n        localStorage.setItem(Config.storage.isLoggedIn, 'false');\r\n        EventBus.emit('authChanged', { isAuthenticated: false, user: null });\r\n        return this;\r\n    },\r\n\r\n    // Theme methods\r\n    setTheme(theme) {\r\n        this.state.theme = theme;\r\n        localStorage.setItem(Config.storage.theme, theme);\r\n        document.documentElement.classList.toggle('dark', theme === 'dark');\r\n        EventBus.emit('themeChanged', theme);\r\n        return this;\r\n    },\r\n\r\n    toggleTheme() {\r\n        const newTheme = this.state.theme === 'dark' ? 'light' : 'dark';\r\n        return this.setTheme(newTheme);\r\n    },\r\n\r\n    // Language methods\r\n    setLanguage(lang) {\r\n        this.state.language = lang;\r\n        localStorage.setItem(Config.storage.language, lang);\r\n        EventBus.emit('languageChanged', lang);\r\n        return this;\r\n    }\r\n};\r\n\r\n// ============================================\r\n// VIEW - DOM Manipulation\r\n// ============================================\r\nconst View = {\r\n    elements: {\r\n        content: null,\r\n        navbar: null,\r\n        toastContainer: null\r\n    },\r\n\r\n    init() {\r\n        this.elements.content = document.getElementById('spa-content');\r\n        this.elements.navbar = document.getElementById('header');\r\n        this.elements.toastContainer = document.getElementById('toast-container');\r\n\r\n        // Apply initial theme\r\n        document.documentElement.classList.toggle('dark', Model.getState('theme') === 'dark');\r\n\r\n        return this;\r\n    },\r\n\r\n    // Render content with smooth CSS animation (no overlay)\r\n    async render(html, routeName) {\r\n        // Ensure content element is available\r\n        if (!this.elements.content) {\r\n            this.elements.content = document.getElementById('spa-content');\r\n        }\r\n\r\n        const { content } = this.elements;\r\n\r\n        if (!content) {\r\n            console.error('SPA content element not found');\r\n            return;\r\n        }\r\n\r\n        // Check if this is initial render (content is empty)\r\n        const isInitialRender = content.innerHTML.trim() === '';\r\n\r\n        if (!isInitialRender) {\r\n            // Start exit animation (fade out) only if not initial render\r\n            content.classList.add('page-exit');\r\n            content.classList.add('page-exit-active');\r\n\r\n            await this.delay(200); // Exit animation duration\r\n        }\r\n\r\n        // Update content\r\n        content.innerHTML = html;\r\n\r\n        // Remove exit classes\r\n        content.classList.remove('page-exit', 'page-exit-active');\r\n\r\n        // Start enter animation (fade in + slide up)\r\n        content.classList.add('page-enter');\r\n\r\n        // Force reflow\r\n        void content.offsetWidth;\r\n\r\n        content.classList.add('page-enter-active');\r\n\r\n        // Notify route changed\r\n        EventBus.emit('routeChanged', routeName);\r\n\r\n        await this.delay(500); // Enter animation duration\r\n\r\n        // Cleanup\r\n        content.classList.remove('page-enter', 'page-enter-active');\r\n\r\n        // Re-init icons\r\n        if (window.lucide) {\r\n            window.lucide.createIcons();\r\n        }\r\n    },\r\n\r\n    // Update auth UI\r\n    updateAuthUI(isAuthenticated, user) {\r\n        const authBtn = document.getElementById('nav-auth-btn');\r\n        const userMenu = document.getElementById('nav-user-menu');\r\n        const userInitial = document.getElementById('nav-user-initial');\r\n        const userName = document.getElementById('nav-user-name');\r\n        const userEmail = document.getElementById('nav-user-email');\r\n\r\n        if (isAuthenticated && user) {\r\n            authBtn?.classList.add('hidden');\r\n            userMenu?.classList.remove('hidden');\r\n            if (userInitial) userInitial.textContent = (user.name || 'U').charAt(0).toUpperCase();\r\n            if (userName) userName.textContent = user.name || 'User';\r\n            if (userEmail) userEmail.textContent = user.email || '';\r\n        } else {\r\n            authBtn?.classList.remove('hidden');\r\n            userMenu?.classList.add('hidden');\r\n        }\r\n    },\r\n\r\n    // Show toast notification\r\n    showToast(message, type = 'info', duration = 3000) {\r\n        const container = this.elements.toastContainer;\r\n        if (!container) return;\r\n\r\n        const icons = {\r\n            success: 'check-circle',\r\n            error: 'x-circle',\r\n            warning: 'alert-triangle',\r\n            info: 'info'\r\n        };\r\n\r\n        const toast = document.createElement('div');\r\n        toast.className = `spa-toast ${type}`;\r\n        toast.innerHTML = `\r\n            <i data-lucide=\"${icons[type]}\" class=\"spa-toast-icon\"></i>\r\n            <span class=\"spa-toast-message\">${message}</span>\r\n        `;\r\n\r\n        container.appendChild(toast);\r\n\r\n        if (window.lucide) {\r\n            window.lucide.createIcons();\r\n        }\r\n\r\n        setTimeout(() => {\r\n            toast.classList.add('exiting');\r\n            setTimeout(() => toast.remove(), 300);\r\n        }, duration);\r\n    },\r\n\r\n    // Utility delay\r\n    delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n};\r\n\r\n// ============================================\r\n// PRESENTER - Business Logic\r\n// ============================================\r\nconst Presenter = {\r\n    init() {\r\n        this.setupEventListeners();\r\n        return this;\r\n    },\r\n\r\n    setupEventListeners() {\r\n        // Auth state changes\r\n        EventBus.on('authChanged', ({ isAuthenticated, user }) => {\r\n            View.updateAuthUI(isAuthenticated, user);\r\n            if (!isAuthenticated) {\r\n                Router.navigate('home');\r\n            }\r\n        });\r\n\r\n        // Theme changes\r\n        EventBus.on('themeChanged', (theme) => {\r\n            console.log('Theme changed:', theme);\r\n        });\r\n    },\r\n\r\n    // Handle login\r\n    async handleLogin(email, password) {\r\n        try {\r\n            // Call real API\r\n            const response = await fetch('http://139.59.224.58:5000/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ email, password })\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (!response.ok || result.error) {\r\n                throw new Error(result.message || 'Login gagal');\r\n            }\r\n\r\n            const user = {\r\n                id: result.data.id,\r\n                name: result.data.nama,\r\n                email: email,\r\n                role: result.data.role,\r\n                token: result.data.token\r\n            };\r\n\r\n            // Save token to localStorage\r\n            localStorage.setItem('optimine-token', result.data.token);\r\n\r\n            Model.login(user);\r\n            View.showToast('Login berhasil!', 'success');\r\n\r\n            setTimeout(() => {\r\n                Router.navigate('home');\r\n            }, 500);\r\n\r\n            return true;\r\n        } catch (error) {\r\n            View.showToast('Login gagal: ' + error.message, 'error');\r\n            return false;\r\n        }\r\n    },\r\n\r\n    // Handle register\r\n    async handleRegister(name, email, password, role) {\r\n        try {\r\n            // Call real API for registration\r\n            const registerResponse = await fetch('http://139.59.224.58:5000/register', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    nama: name,\r\n                    email,\r\n                    password,\r\n                    role: role || 'admin'\r\n                })\r\n            });\r\n\r\n            const registerResult = await registerResponse.json();\r\n            console.log('Register response:', registerResult);\r\n\r\n            if (!registerResponse.ok || registerResult.error) {\r\n                throw new Error(registerResult.message || 'Registrasi gagal');\r\n            }\r\n\r\n            // Auto login after successful registration\r\n            const loginResponse = await fetch('http://139.59.224.58:5000/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ email, password })\r\n            });\r\n\r\n            const loginResult = await loginResponse.json();\r\n\r\n            if (loginResponse.ok && !loginResult.error) {\r\n                const user = {\r\n                    id: loginResult.data.id,\r\n                    name: loginResult.data.nama,\r\n                    email: email,\r\n                    role: loginResult.data.role,\r\n                    token: loginResult.data.token\r\n                };\r\n\r\n                // Save token to localStorage\r\n                localStorage.setItem('optimine-token', loginResult.data.token);\r\n\r\n                Model.login(user);\r\n            } else {\r\n                // If auto-login fails, just create user object from registration data\r\n                const user = {\r\n                    id: Date.now(),\r\n                    name: name,\r\n                    email: email,\r\n                    role: role || 'admin'\r\n                };\r\n                Model.login(user);\r\n            }\r\n\r\n            View.showToast('Registrasi berhasil!', 'success');\r\n\r\n            setTimeout(() => {\r\n                Router.navigate('home');\r\n            }, 500);\r\n\r\n            return true;\r\n        } catch (error) {\r\n            View.showToast('Registrasi gagal: ' + error.message, 'error');\r\n            return false;\r\n        }\r\n    },\r\n\r\n    // Handle logout\r\n    handleLogout() {\r\n        Model.logout();\r\n        View.showToast('Logout berhasil', 'info');\r\n    }\r\n};\r\n\r\n// ============================================\r\n// APP - Main Application\r\n// ============================================\r\nexport const App = {\r\n    Model,\r\n    View,\r\n    Presenter,\r\n\r\n    init() {\r\n        Model.init();\r\n        View.init();\r\n        Presenter.init();\r\n\r\n        // Update auth UI on init\r\n        View.updateAuthUI(Model.getState('isAuthenticated'), Model.getState('user'));\r\n\r\n        console.log('App initialized');\r\n        return this;\r\n    }\r\n};\r\n\r\n// Export individual modules\r\nexport { Model, View, Presenter };\r\n","/**\r\n * OptiMine SPA - Main Entry Point\r\n * Using Webpack bundler with MVP Architecture\r\n */\r\n\r\nimport { App } from './scripts/app.js';\r\nimport { Router } from './scripts/routes/routes.js';\r\nimport { EventBus, LanguageManager } from './scripts/utils/index.js';\r\nimport { t, getSection } from './scripts/utils/translations.js';\r\nimport './styles/styles.css';\r\n\r\n/**\r\n * Update UI text based on current language\r\n */\r\nconst updateLanguageUI = (lang) => {\r\n    const nav = getSection(lang, 'nav');\r\n    \r\n    // Update Desktop Navigation Links\r\n    document.querySelectorAll('.nav-link[data-page]').forEach(link => {\r\n        const page = link.dataset.page;\r\n        const span = link.querySelector('span');\r\n        if (span) {\r\n            if (page === 'home') span.textContent = nav.home;\r\n            if (page === 'planning') span.textContent = nav.planning;\r\n            if (page === 'ai-tools') span.textContent = nav.aiTools;\r\n            if (page === 'dashboard') span.textContent = nav.dashboard;\r\n        }\r\n    });\r\n    \r\n    // Update Mobile Navigation Links\r\n    document.querySelectorAll('.mobile-nav-link[data-page]').forEach(link => {\r\n        const page = link.dataset.page;\r\n        const span = link.querySelector('span');\r\n        if (span) {\r\n            if (page === 'home') span.textContent = nav.home;\r\n            if (page === 'planning') span.textContent = nav.planning;\r\n            if (page === 'ai-tools') span.textContent = nav.aiTools;\r\n            if (page === 'dashboard') span.textContent = nav.dashboard;\r\n        }\r\n    });\r\n    \r\n    // Update Login/Profile button text\r\n    const loginBtnText = document.querySelector('#loginBtn span');\r\n    const mobileLoginBtnText = document.querySelector('#mobileLoginBtn span');\r\n    if (loginBtnText) loginBtnText.textContent = nav.login;\r\n    if (mobileLoginBtnText) mobileLoginBtnText.textContent = nav.login;\r\n    \r\n    // Update active language indicator in dropdown\r\n    document.querySelectorAll('.lang-option').forEach(btn => {\r\n        const isActive = btn.dataset.lang === lang;\r\n        btn.classList.toggle('bg-primary', isActive);\r\n        btn.classList.toggle('text-primary-foreground', isActive);\r\n        btn.classList.toggle('shadow-lg', isActive);\r\n        // Remove hover effect for active\r\n        if (isActive) {\r\n            btn.classList.remove('hover:bg-primary/10');\r\n        } else {\r\n            btn.classList.add('hover:bg-primary/10');\r\n        }\r\n    });\r\n    \r\n    document.querySelectorAll('.lang-option-mobile').forEach(btn => {\r\n        const isActive = btn.dataset.lang === lang;\r\n        btn.classList.toggle('bg-primary', isActive);\r\n        btn.classList.toggle('text-primary-foreground', isActive);\r\n        btn.classList.toggle('bg-secondary/50', !isActive);\r\n    });\r\n};\r\n\r\n/**\r\n * Setup Navbar Event Handlers\r\n */\r\nconst setupNavbarHandlers = () => {\r\n    // Theme Toggle\r\n    const themeToggle = document.getElementById('theme-toggle');\r\n    themeToggle?.addEventListener('click', () => {\r\n        App.Model.toggleTheme();\r\n    });\r\n    \r\n    // Language Dropdown\r\n    const langToggle = document.getElementById('lang-toggle');\r\n    const langDropdown = document.getElementById('lang-dropdown');\r\n    \r\n    langToggle?.addEventListener('click', (e) => {\r\n        e.stopPropagation();\r\n        langDropdown?.classList.toggle('hidden');\r\n    });\r\n    \r\n    // Language Options (Desktop)\r\n    document.querySelectorAll('.lang-option').forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            const lang = btn.dataset.lang;\r\n            App.Model.setLanguage(lang);\r\n            langDropdown?.classList.add('hidden');\r\n            updateLanguageUI(lang);\r\n            // Re-render current page to apply translations\r\n            Router.handleRouteChange();\r\n        });\r\n    });\r\n    \r\n    // Mobile Language Options\r\n    document.querySelectorAll('.lang-option-mobile').forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            const lang = btn.dataset.lang;\r\n            App.Model.setLanguage(lang);\r\n            updateLanguageUI(lang);\r\n            // Re-render current page to apply translations\r\n            Router.handleRouteChange();\r\n        });\r\n    });\r\n    \r\n    // Mobile Menu Toggle\r\n    const mobileMenuBtn = document.getElementById('mobile-menu-btn');\r\n    const mobileMenu = document.getElementById('mobile-menu');\r\n    const menuIcon = document.getElementById('menu-icon');\r\n    const closeIcon = document.getElementById('close-icon');\r\n    \r\n    mobileMenuBtn?.addEventListener('click', () => {\r\n        const isOpen = !mobileMenu?.classList.contains('hidden');\r\n        mobileMenu?.classList.toggle('hidden', isOpen);\r\n        menuIcon?.classList.toggle('hidden', !isOpen);\r\n        closeIcon?.classList.toggle('hidden', isOpen);\r\n    });\r\n    \r\n    // Close mobile menu when clicking nav links\r\n    document.querySelectorAll('.mobile-nav-link').forEach(link => {\r\n        link.addEventListener('click', () => {\r\n            mobileMenu?.classList.add('hidden');\r\n            menuIcon?.classList.remove('hidden');\r\n            closeIcon?.classList.add('hidden');\r\n        });\r\n    });\r\n    \r\n    // Close language dropdown when clicking outside\r\n    document.addEventListener('click', (e) => {\r\n        if (!langToggle?.contains(e.target) && !langDropdown?.contains(e.target)) {\r\n            langDropdown?.classList.add('hidden');\r\n        }\r\n    });\r\n    \r\n    // Apply initial language\r\n    const currentLang = App.Model.getState('language') || 'id';\r\n    updateLanguageUI(currentLang);\r\n};\r\n\r\n/**\r\n * Update Navigation Active State\r\n */\r\nconst updateNavActiveState = (route) => {\r\n    // Desktop nav links\r\n    document.querySelectorAll('.nav-link').forEach(link => {\r\n        const page = link.dataset.page;\r\n        link.classList.toggle('active', page === route);\r\n    });\r\n    \r\n    // Mobile nav links\r\n    document.querySelectorAll('.mobile-nav-link').forEach(link => {\r\n        const page = link.dataset.page;\r\n        link.classList.toggle('active', page === route);\r\n    });\r\n};\r\n\r\n/**\r\n * Update Auth UI State\r\n */\r\nconst updateAuthUI = () => {\r\n    const isLoggedIn = App.Model.getState('isAuthenticated');\r\n    const user = App.Model.getState('user');\r\n    \r\n    const loginBtn = document.getElementById('loginBtn');\r\n    const profileBtn = document.getElementById('profileBtn');\r\n    const mobileLoginBtn = document.getElementById('mobileLoginBtn');\r\n    const mobileProfileBtn = document.getElementById('mobileProfileBtn');\r\n    \r\n    if (isLoggedIn && user) {\r\n        loginBtn?.classList.add('hidden');\r\n        profileBtn?.classList.remove('hidden');\r\n        profileBtn?.classList.add('flex');\r\n        mobileLoginBtn?.classList.add('hidden');\r\n        mobileProfileBtn?.classList.remove('hidden');\r\n        mobileProfileBtn?.classList.add('flex');\r\n        \r\n        // Update user info\r\n        const initial = (user.name || 'U').charAt(0).toUpperCase();\r\n        document.querySelectorAll('.user-initial').forEach(el => el.textContent = initial);\r\n        document.querySelectorAll('.user-name').forEach(el => el.textContent = user.name || 'User');\r\n    } else {\r\n        loginBtn?.classList.remove('hidden');\r\n        loginBtn?.classList.add('flex');\r\n        profileBtn?.classList.add('hidden');\r\n        profileBtn?.classList.remove('flex');\r\n        mobileLoginBtn?.classList.remove('hidden');\r\n        mobileLoginBtn?.classList.add('flex');\r\n        mobileProfileBtn?.classList.add('hidden');\r\n        mobileProfileBtn?.classList.remove('flex');\r\n    }\r\n};\r\n\r\n/**\r\n * Show Toast Notification\r\n */\r\nconst showToast = (message, type = 'info', duration = 3000) => {\r\n    const container = document.getElementById('toast-container');\r\n    if (!container) return;\r\n    \r\n    const icons = {\r\n        success: `<svg class=\"w-5 h-5 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>`,\r\n        error: `<svg class=\"w-5 h-5 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>`,\r\n        info: `<svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>`\r\n    };\r\n    \r\n    const toast = document.createElement('div');\r\n    toast.className = `toast ${type}`;\r\n    toast.innerHTML = `${icons[type] || icons.info}<span>${message}</span>`;\r\n    \r\n    container.appendChild(toast);\r\n    \r\n    setTimeout(() => {\r\n        toast.style.opacity = '0';\r\n        toast.style.transform = 'translateX(100%)';\r\n        toast.style.transition = 'all 0.3s ease';\r\n        setTimeout(() => toast.remove(), 300);\r\n    }, duration);\r\n};\r\n\r\n// Make showToast globally available\r\nwindow.showToast = showToast;\r\n\r\n// Make translation function globally available\r\nwindow.t = t;\r\nwindow.getSection = getSection;\r\nwindow.updateLanguageUI = updateLanguageUI;\r\n\r\n// Make LanguageManager globally available\r\nwindow.LanguageManager = LanguageManager;\r\n\r\n// Initialize app when DOM ready\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    // Initialize App FIRST (before Router)\r\n    App.init();\r\n    \r\n    // Initialize LanguageManager\r\n    LanguageManager.init();\r\n    \r\n    // Setup Navbar Handlers\r\n    setupNavbarHandlers();\r\n    \r\n    // Update Auth UI\r\n    updateAuthUI();\r\n    \r\n    // Listen for route changes\r\n    EventBus.on('routeChanged', updateNavActiveState);\r\n    \r\n    // Listen for auth changes\r\n    EventBus.on('authChanged', updateAuthUI);\r\n    \r\n    // Listen for language changes - re-render current page\r\n    EventBus.on('languageChanged', (lang) => {\r\n        updateLanguageUI(lang);\r\n        // Re-render current page to update content\r\n        const currentRoute = Router.getCurrentRoute();\r\n        if (currentRoute) {\r\n            Router.navigate(currentRoute);\r\n        }\r\n    });\r\n    \r\n    // Subscribe LanguageManager to re-render on language change\r\n    LanguageManager.subscribe((lang) => {\r\n        const currentRoute = Router.getCurrentRoute();\r\n        if (currentRoute) {\r\n            Router.navigate(currentRoute);\r\n        }\r\n    });\r\n    \r\n    // Initialize Router LAST (so it can render initial route)\r\n    Router.init();\r\n    \r\n    console.log('OptiMine SPA initialized');\r\n});\r\n\r\n// Export for global access if needed\r\nwindow.OptiMine = {\r\n    App,\r\n    Router,\r\n    showToast\r\n};\r\n"],"names":["Config","appName","version","api","baseUrl","timeout","routes","default","protected","public","transition","duration","type","storage","theme","language","user","token","isLoggedIn","defaults","translations","en","nav","home","planning","aiTools","dashboard","login","profile","logout","welcomeBack","subtitle","activeSites","fleetUnits","efficiency","quickAccess","aiScenario","aiScenarioDesc","aiChatbot","aiChatbotDesc","opsDashboard","opsDashboardDesc","accessDashboard","aiPoweredAnalysis","realtimeMonitoring","riskMitigation","costOptimization","title","weatherConditions","rainfallLevel","low","high","waveHeight","calm","rough","fleetStatus","activeVehicles","maintenanceStatus","fleetAvailability","truckCount","excavatorCount","shipSchedule","vesselName","estimatedArrival","cargoCapacity","addVessel","generatePlan","systemStatus","aiSystemOnline","n8nReady","activeAlerts","alertRainfall","alertMaintenance","weatherData","connected","fleetTracking","online","aiEngine","ready","lastUpdate","justNow","active","aiOnline","responseTime","suggestedPrompts","prompt1","prompt2","prompt3","integration","integrationDesc","connectedSystems","weather","fleet","shipping","placeholder","greeting","totalProduction","fromLastMonth","activeEquipment","outOfTotal","efficiencyRate","target","costSavings","thisQuarter","productionTrends","equipmentStatus","chartPlaceholder","statusPlaceholder","auth","register","email","password","confirmPassword","fullName","role","forgotPassword","signIn","createAccount","resetPassword","resetDesc","sendResetLink","backToLogin","miningPlanner","shippingPlanner","passwordRequirements","minLength","uppercase","number","weak","medium","fair","strong","passwordError","passwordMismatch","accountInfo","displayName","preferences","darkMode","useDarkTheme","selectLanguage","signOut","dark","light","common","loading","error","success","save","cancel","confirm","delete","edit","view","search","noData","languageChanged","copyright","privacy","terms","contact","id","getSection","lang","section","constructor","this","currentLanguage","getSavedLanguage","listeners","isInitialized","saved","localStorage","getItem","navigator","toLowerCase","startsWith","init","setLanguage","setupLanguageSwitcher","console","log","t","translate","path","keys","split","result","key","undefined","warn","notify","setItem","document","documentElement","setAttribute","updateAllTranslations","updateLanguageIndicator","notifyListeners","toggleLanguage","newLang","querySelectorAll","forEach","element","getAttribute","translation","textContent","indicator","toUpperCase","button","isActive","classList","toggle","btn","dataset","addEventListener","e","closest","preventDefault","langBtn","langOption","subscribe","callback","push","filter","cb","$","EventBus","events","on","event","off","emit","data","once","wrapper","animate","fadeIn","style","opacity","display","start","step","timestamp","progress","Math","min","requestAnimationFrame","fadeOut","slideDown","height","overflow","targetHeight","scrollHeight","slideUp","startHeight","typewriter","text","speed","borderRight","animation","index","length","charAt","setTimeout","typewriterWelcome","welcomeText","userName","innerHTML","welcomeSpan","createElement","className","userSpan","appendChild","add","welcomeIndex","userIndex","typeWelcome","typeUser","remove","countUp","suffix","startTime","performance","now","updateCount","currentTime","elapsed","easedProgress","pow","currentValue","floor","initStatCounters","delay","parseInt","initTypewriter","welcomeElement","getElementById","userData","JSON","parse","name","nama","getUserName","homePage","async","App","View","render","Model","getState","template","templates","p","ai","d","a","pr","aboutPage","params","route","Router","getCurrentRoute","loginTab","registerTab","loginForm","registerForm","authCard","forgotPasswordCard","forgotPasswordBtn","backToLoginBtn","forgotPasswordForm","loginFormClone","cloneNode","replaceWith","registerFormClone","registerPassword","passwordInfoContainer","strengthContainer","strengthText","strengthBars","reqTitle","reqLength","reqUppercase","reqNumber","getAuthTranslations","window","updateRequirement","isValid","updateStrengthUI","strength","config","bar","label","querySelector","initPasswordRequirements","value","checks","test","special","lowercase","checkPasswordStrength","submitBtn","originalText","disabled","Presenter","handleLogin","hasMinLength","hasUppercase","hasNumber","handleRegister","Promise","resolve","alert","setupAuthHandlers","logoutBtn","themeToggle","langBtns","logoutBtnClone","themeToggleClone","handleLogout","toggleTheme","dot","isDark","handleRouteChange","setupProfileHandlers","chatInput","sendBtn","messagesContainer","addMessage","content","isUser","time","Date","toLocaleTimeString","hour","minute","messageHTML","insertAdjacentHTML","scrollTop","sendMessage","message","trim","responses","randomResponse","random","shiftKey","promptText","focus","setupChatHandlers","BASE_URL","request","endpoint","options","url","defaultHeaders","headers","response","fetch","json","ok","Error","get","method","post","body","stringify","put","API","chat","toISOString","userId","responseText","parseError","status","output","plan","payload","recommend","context","aiToolsPage","chatMessages","chatForm","typingIndicator","messageEl","escapeHtml","scrollToBottom","div","afterRender","API_BASE_URL","location","hostname","PLAN_API_URL","SHIPPING_API_URL","PlanningState","rainfall_mm","wind_speed_kmh","totalFleet","vessels","isLoading","loadingSteps","icon","planningPage","rainfallSlider","waveSlider","parseFloat","updateSliderValueDisplays","setupSliders","activeVehiclesInput","maintenanceInput","setupInputs","generateBtn","newPlanBtn","loadingContainer","resultDashboard","loadingPromise","loadingIcon","loadingText","i","sleep","finalStep","runLoadingAnimation","weather_input","temperature_c","humidity_pct","weather_condition","availability_pct","road_condition","capacity_input","toFixed","mine_id","equipment_type","vesselInfo","map","v","join","production_input","planned_output_ton","additional_context","buildPayload","renderResultDashboard","showToast","demoResult","weatherClass","getWeatherClassFromRainfall","capacity","round","ml_predictions","weather_classification","effective_capacity_ton_per_day","confidence_score","production_forecast","narrative_recommendation","generateDemoResult","generateOptimizationPlan","resetToInput","setupGenerateButton","container","schedules","renderDefaultVessels","s","shipment_id","vessel_name","etd","destination","destination_port","tonnage","coal_tonnage","etdDate","timeStr","statusClass","statusText","toLocaleString","renderVessels","loadVessels","rainfallValue","windValue","ms","rainfall","day","month","year","metricsGrid","predictions","weatherIcon","lower","includes","getWeatherIcon","capacity_forecast","confidence","model_confidence","renderMetrics","narrative","recommendation","sections","strategy","risks","actions","strategyMatch","match","risksMatch","actionsMatch","paragraphs","slice","parseNarrativeToSections","html","createRecommendationCard","renderRecommendations","gradient","cleanContent","replace","formattedContent","lines","line","currentRoute","handler","navigate","hash","routePath","queryString","parseQuery","updateActiveNav","pair","decodeURIComponent","link","linkRoute","mobileMenu","state","isAuthenticated","savedUser","setState","removeItem","setTheme","newTheme","elements","navbar","toastContainer","routeName","offsetWidth","lucide","createIcons","updateAuthUI","authBtn","userMenu","userInitial","userEmail","toast","warning","info","setupEventListeners","registerResponse","registerResult","loginResponse","loginResult","updateLanguageUI","page","span","loginBtnText","mobileLoginBtnText","updateNavActiveState","loginBtn","profileBtn","mobileLoginBtn","mobileProfileBtn","initial","el","icons","transform","LanguageManager","langToggle","langDropdown","stopPropagation","mobileMenuBtn","menuIcon","closeIcon","isOpen","contains","currentLang","setupNavbarHandlers","OptiMine"],"ignoreList":[],"sourceRoot":""}